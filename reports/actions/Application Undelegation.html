<p>For explanations of generalized dynamical systems as well as how the mathematical specification library works in detail, please consult the documentation <a href="https://github.com/BlockScience/MSML/tree/main/docs">here</a></p>Graph Legend:<br/>Cylinder: Entity<br/>Orange Diamond: Boundary Action<br/>Red Square: Policy<br/>Blue Circle: Mechanism<br/>Transparent Circle: State Variable<h2>Action Map</h2><?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.48.0 (0)

 -->

<!-- Title: Application Undelegation Pages: 1 -->

<svg width="466pt" height="497pt"

 viewBox="0.00 0.00 465.68 497.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 493)">

<title>Application Undelegation</title>

<polygon fill="white" stroke="transparent" points="-4,4 -4,-493 461.68,-493 461.68,4 -4,4"/>

<!-- Application -->

<g id="node1" class="node">

<title>Application</title>

<path fill="none" stroke="black" d="M275.84,-485.73C275.84,-487.53 257.24,-489 234.34,-489 211.44,-489 192.84,-487.53 192.84,-485.73 192.84,-485.73 192.84,-456.27 192.84,-456.27 192.84,-454.47 211.44,-453 234.34,-453 257.24,-453 275.84,-454.47 275.84,-456.27 275.84,-456.27 275.84,-485.73 275.84,-485.73"/>

<path fill="none" stroke="black" d="M275.84,-485.73C275.84,-483.92 257.24,-482.45 234.34,-482.45 211.44,-482.45 192.84,-483.92 192.84,-485.73"/>

<text text-anchor="middle" x="234.34" y="-467.3" font-family="Times,serif" font-size="14.00">Application</text>

</g>

<!-- Application Undelegation -->

<g id="node2" class="node">

<title>Application Undelegation</title>

<polygon fill="orange" stroke="orange" points="234.34,-416 85.53,-398 234.34,-380 383.15,-398 234.34,-416"/>

<text text-anchor="middle" x="234.34" y="-394.3" font-family="Times,serif" font-size="14.00">Application Undelegation</text>

</g>

<!-- Application&#45;&gt;Application Undelegation -->

<g id="edge1" class="edge">

<title>Application&#45;&gt;Application Undelegation</title>

<path fill="none" stroke="black" d="M234.34,-452.81C234.34,-444.79 234.34,-435.05 234.34,-426.07"/>

<polygon fill="black" stroke="black" points="237.84,-426.03 234.34,-416.03 230.84,-426.03 237.84,-426.03"/>

</g>

<!-- Application Undelegate to Gateway Policy -->

<g id="node3" class="node">

<title>Application Undelegate to Gateway Policy</title>

<polygon fill="red" stroke="red" points="354.34,-299 114.34,-299 114.34,-263 354.34,-263 354.34,-299"/>

<text text-anchor="middle" x="234.34" y="-277.3" font-family="Times,serif" font-size="14.00">Application Undelegate to Gateway Policy</text>

</g>

<!-- Application Undelegation&#45;&gt;Application Undelegate to Gateway Policy -->

<g id="edge2" class="edge">

<title>Application Undelegation&#45;&gt;Application Undelegate to Gateway Policy</title>

<path fill="none" stroke="black" d="M234.34,-379.53C234.34,-360.94 234.34,-331.24 234.34,-309.5"/>

<polygon fill="black" stroke="black" points="237.84,-309.25 234.34,-299.25 230.84,-309.25 237.84,-309.25"/>

<text text-anchor="middle" x="272.34" y="-350.8" font-family="Times,serif" font-size="14.00">Application</text>

<text text-anchor="middle" x="272.34" y="-335.8" font-family="Times,serif" font-size="14.00">Undelegation</text>

<text text-anchor="middle" x="272.34" y="-320.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Update Application Delegate -->

<g id="node4" class="node">

<title>Update Application Delegate</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="116.34" cy="-164" rx="116.18" ry="18"/>

<text text-anchor="middle" x="116.34" y="-160.3" font-family="Times,serif" font-size="14.00">Update Application Delegate</text>

</g>

<!-- Application Undelegate to Gateway Policy&#45;&gt;Update Application Delegate -->

<g id="edge3" class="edge">

<title>Application Undelegate to Gateway Policy&#45;&gt;Update Application Delegate</title>

<path fill="none" stroke="black" d="M216.67,-262.78C196.57,-243.19 163.61,-211.06 140.98,-189.02"/>

<polygon fill="black" stroke="black" points="143.35,-186.43 133.74,-181.96 138.46,-191.45 143.35,-186.43"/>

<text text-anchor="middle" x="234.34" y="-233.8" font-family="Times,serif" font-size="14.00">Application</text>

<text text-anchor="middle" x="234.34" y="-218.8" font-family="Times,serif" font-size="14.00">Undelegation</text>

<text text-anchor="middle" x="234.34" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Remove Gateway Delegator -->

<g id="node5" class="node">

<title>Remove Gateway Delegator</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="354.34" cy="-164" rx="103.18" ry="18"/>

<text text-anchor="middle" x="354.34" y="-160.3" font-family="Times,serif" font-size="14.00">Remove Gateway Delegator</text>

</g>

<!-- Application Undelegate to Gateway Policy&#45;&gt;Remove Gateway Delegator -->

<g id="edge4" class="edge">

<title>Application Undelegate to Gateway Policy&#45;&gt;Remove Gateway Delegator</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M255.64,-262.97C262.39,-257.39 269.79,-251.06 276.34,-245 295.68,-227.12 316.44,-205.7 331.68,-189.53"/>

<polygon fill="black" stroke="black" points="334.41,-191.74 338.69,-182.05 329.3,-186.95 334.41,-191.74"/>

<text text-anchor="middle" x="360.34" y="-233.8" font-family="Times,serif" font-size="14.00">Application</text>

<text text-anchor="middle" x="360.34" y="-218.8" font-family="Times,serif" font-size="14.00">Undelegation</text>

<text text-anchor="middle" x="360.34" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Application.Delegate -->

<g id="node8" class="node">

<title>Application.Delegate</title>

<ellipse fill="none" stroke="black" cx="116.34" cy="-91" rx="88.28" ry="18"/>

<text text-anchor="middle" x="116.34" y="-87.3" font-family="Times,serif" font-size="14.00">Application.Delegate</text>

</g>

<!-- Update Application Delegate&#45;&gt;Application.Delegate -->

<g id="edge5" class="edge">

<title>Update Application Delegate&#45;&gt;Application.Delegate</title>

<path fill="none" stroke="black" d="M116.34,-145.81C116.34,-137.79 116.34,-128.05 116.34,-119.07"/>

<polygon fill="black" stroke="black" points="119.84,-119.03 116.34,-109.03 112.84,-119.03 119.84,-119.03"/>

</g>

<!-- Gateway.Delegators -->

<g id="node9" class="node">

<title>Gateway.Delegators</title>

<ellipse fill="none" stroke="black" cx="354.34" cy="-91" rx="74.19" ry="18"/>

<text text-anchor="middle" x="354.34" y="-87.3" font-family="Times,serif" font-size="14.00">Gateway.Delegators</text>

</g>

<!-- Remove Gateway Delegator&#45;&gt;Gateway.Delegators -->

<g id="edge6" class="edge">

<title>Remove Gateway Delegator&#45;&gt;Gateway.Delegators</title>

<path fill="none" stroke="black" d="M354.34,-145.81C354.34,-137.79 354.34,-128.05 354.34,-119.07"/>

<polygon fill="black" stroke="black" points="357.84,-119.03 354.34,-109.03 350.84,-119.03 357.84,-119.03"/>

</g>

<!-- Application_2 -->

<g id="node6" class="node">

<title>Application_2</title>

<path fill="none" stroke="black" d="M157.84,-32.73C157.84,-34.53 139.24,-36 116.34,-36 93.44,-36 74.84,-34.53 74.84,-32.73 74.84,-32.73 74.84,-3.27 74.84,-3.27 74.84,-1.47 93.44,0 116.34,0 139.24,0 157.84,-1.47 157.84,-3.27 157.84,-3.27 157.84,-32.73 157.84,-32.73"/>

<path fill="none" stroke="black" d="M157.84,-32.73C157.84,-30.92 139.24,-29.45 116.34,-29.45 93.44,-29.45 74.84,-30.92 74.84,-32.73"/>

<text text-anchor="middle" x="116.34" y="-14.3" font-family="Times,serif" font-size="14.00">Application</text>

</g>

<!-- Gateway_2 -->

<g id="node7" class="node">

<title>Gateway_2</title>

<path fill="none" stroke="black" d="M381.34,-32.73C381.34,-34.53 369.24,-36 354.34,-36 339.44,-36 327.34,-34.53 327.34,-32.73 327.34,-32.73 327.34,-3.27 327.34,-3.27 327.34,-1.47 339.44,0 354.34,0 369.24,0 381.34,-1.47 381.34,-3.27 381.34,-3.27 381.34,-32.73 381.34,-32.73"/>

<path fill="none" stroke="black" d="M381.34,-32.73C381.34,-30.92 369.24,-29.45 354.34,-29.45 339.44,-29.45 327.34,-30.92 327.34,-32.73"/>

<text text-anchor="middle" x="354.34" y="-14.3" font-family="Times,serif" font-size="14.00">Gateway</text>

</g>

<!-- Application.Delegate&#45;&gt;Application_2 -->

<g id="edge7" class="edge">

<title>Application.Delegate&#45;&gt;Application_2</title>

<path fill="none" stroke="black" d="M116.34,-72.81C116.34,-64.79 116.34,-55.05 116.34,-46.07"/>

<polygon fill="black" stroke="black" points="119.84,-46.03 116.34,-36.03 112.84,-46.03 119.84,-46.03"/>

</g>

<!-- Gateway.Delegators&#45;&gt;Gateway_2 -->

<g id="edge8" class="edge">

<title>Gateway.Delegators&#45;&gt;Gateway_2</title>

<path fill="none" stroke="black" d="M354.34,-72.81C354.34,-64.79 354.34,-55.05 354.34,-46.07"/>

<polygon fill="black" stroke="black" points="357.84,-46.03 354.34,-36.03 350.84,-46.03 357.84,-46.03"/>

</g>

</g>

</svg>
<h2>State</h2><h3>Local States</h3><h4>Application State</h4><table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Symbol</th>
        <th>Domain</th>
      </tr><tr><td>Public key</td><td>The identifier of the application</td><td>Public Key</td><td></td><td></td></tr><tr><td>POKT Holdings</td><td>The personal holdings of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Staked POKT</td><td>The staked amount of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Services</td><td>The flavor(s) of Web3 hosted by this Servicer</td><td>List[Service]</td><td></td><td></td></tr><tr><td>GeoZone</td><td>The physical geo-location identifier this Servicer registered in</td><td>GeoZone</td><td></td><td></td></tr><tr><td>Number of Servicers</td><td>The number of servicers an application would prefer, if available, for a session.</td><td>int</td><td></td><td></td></tr><tr><td>Stake Status</td><td>The status of staking for the actor</td><td>StakeStatusType</td><td></td><td></td></tr><tr><td>Unstaking Height</td><td>The height for which a servicer has begun unstaking at or none to represent no unstaking</td><td>Block Height</td><td></td><td></td></tr><tr><td>Delegate</td><td>The gateway which has been delegated to or None if there is no delegate</td><td>Gateway Entity</td><td></td><td></td></tr></table><h2>Spaces</h2><h3>Application Undelegation Space</h3><p>{application_public_key: Public Key,<br/>gateway_public_key: Public Key}</p><h2>Behavioral Action Space</h2><h3>Application Undelegation</h3><p>If a staked Application wants to stop using a Gateway, and prevent the Gateway from further signing relays on its behalf, it would simply submit an on-chain UndelegateMsg. Further relays signed by the Gateway on behalf of the Application would be rejected by the Servicers.</p><h4>Called By:</h4>
<p>1. Application</p><h4>Constraints:</h4>
<h2>Control Action Space</h2><h2>Policies</h2><h3>Application Undelegate to Gateway Policy</h3><p>Policy for taking care of any actions in relation to undelegation.</p><h4>Preceded By:</h4>
<p>1. Application Undelegation</p><h4>Domain Spaces:</h4>
<p>1. Application Undelegation Space</p><h4>Followed By:</h4>
<p>1. Update Application Delegate</p><p>2. Remove Gateway Delegator</p><h4>Codomain Spaces:</h4>
<p>1. Application Undelegation Space</p><p>2. Application Undelegation Space</p><h4>Constraints:</h4>
<h2>Mechanisms</h2><h3>Update Application Delegate</h3><p>The mechanism which updates delegate gateway that can act on its behalf.</p><h4>Preceded By:</h4>
<p>1. Application Delegate to Gateway Policy</p><p>2. Application Undelegate to Gateway Policy</p><h4>Domain Spaces:</h4>
<p>1. Application Delegate to Gateway Space</p><h4>State Updates:</h4>
<p>1. Application.Delegate</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>Set the delegate mechanism for the application at DOMAIN[0].application_public_key to DOMAIN[0].gateway_public_key</p><h3>Remove Gateway Delegator</h3><p>The mechanism which removes an application that the gateway is a delegator for.</p><h4>Preceded By:</h4>
<p>1. Application Undelegate to Gateway Policy</p><p>2. Gateway Unregistration Policy</p><h4>Domain Spaces:</h4>
<p>1. Application Undelegation Space</p><h4>State Updates:</h4>
<p>1. Gateway.Delegators</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>Remove the application at DOMAIN[0].application_public_key from the delegators attribute for the gateway at DOMAIN[0].gateway_public_key</p><h2>Parameters</h2>