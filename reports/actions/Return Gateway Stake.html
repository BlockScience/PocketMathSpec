<p>For explanations of generalized dynamical systems as well as how the mathematical specification library works in detail, please consult the documentation <a href="https://github.com/BlockScience/MSML/tree/main/docs">here</a></p>Graph Legend:<br/>Cylinder: Entity<br/>Orange Diamond: Boundary Action<br/>Red Square: Policy<br/>Blue Circle: Mechanism<br/>Transparent Circle: State Variable<h2>Action Map</h2><?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.48.0 (0)

 -->

<!-- Title: Return Gateway Stake Pages: 1 -->

<svg width="740pt" height="424pt"

 viewBox="0.00 0.00 739.83 424.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 420)">

<title>Return Gateway Stake</title>

<polygon fill="white" stroke="transparent" points="-4,4 -4,-420 735.83,-420 735.83,4 -4,4"/>

<!-- Return Gateway Stake -->

<g id="node1" class="node">

<title>Return Gateway Stake</title>

<polygon fill="yellow" stroke="yellow" points="389.94,-416 259.4,-398 389.94,-380 520.48,-398 389.94,-416"/>

<text text-anchor="middle" x="389.94" y="-394.3" font-family="Times,serif" font-size="14.00">Return Gateway Stake</text>

</g>

<!-- Return Gateway Stake Policy -->

<g id="node2" class="node">

<title>Return Gateway Stake Policy</title>

<polygon fill="red" stroke="red" points="480.94,-299 298.94,-299 298.94,-263 480.94,-263 480.94,-299"/>

<text text-anchor="middle" x="389.94" y="-277.3" font-family="Times,serif" font-size="14.00">Return Gateway Stake Policy</text>

</g>

<!-- Return Gateway Stake&#45;&gt;Return Gateway Stake Policy -->

<g id="edge1" class="edge">

<title>Return Gateway Stake&#45;&gt;Return Gateway Stake Policy</title>

<path fill="none" stroke="black" d="M389.94,-379.53C389.94,-360.94 389.94,-331.24 389.94,-309.5"/>

<polygon fill="black" stroke="black" points="393.44,-309.25 389.94,-299.25 386.44,-309.25 393.44,-309.25"/>

<text text-anchor="middle" x="424.44" y="-350.8" font-family="Times,serif" font-size="14.00">Return</text>

<text text-anchor="middle" x="424.44" y="-335.8" font-family="Times,serif" font-size="14.00">Gateway</text>

<text text-anchor="middle" x="424.44" y="-320.8" font-family="Times,serif" font-size="14.00">Stake Space</text>

</g>

<!-- Update Gateway Stake Status -->

<g id="node3" class="node">

<title>Update Gateway Stake Status</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="118.94" cy="-164" rx="118.88" ry="18"/>

<text text-anchor="middle" x="118.94" y="-160.3" font-family="Times,serif" font-size="14.00">Update Gateway Stake Status</text>

</g>

<!-- Return Gateway Stake Policy&#45;&gt;Update Gateway Stake Status -->

<g id="edge2" class="edge">

<title>Return Gateway Stake Policy&#45;&gt;Update Gateway Stake Status</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M349.66,-262.91C300.66,-242.11 218.07,-207.07 166.14,-185.03"/>

<polygon fill="black" stroke="black" points="167.39,-181.76 156.81,-181.07 164.65,-188.2 167.39,-181.76"/>

<text text-anchor="middle" x="337.44" y="-233.8" font-family="Times,serif" font-size="14.00">Servicer</text>

<text text-anchor="middle" x="337.44" y="-218.8" font-family="Times,serif" font-size="14.00">Stake Status</text>

<text text-anchor="middle" x="337.44" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Modify Gateway POKT Holdings -->

<g id="node4" class="node">

<title>Modify Gateway POKT Holdings</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="389.94" cy="-164" rx="133.78" ry="18"/>

<text text-anchor="middle" x="389.94" y="-160.3" font-family="Times,serif" font-size="14.00">Modify Gateway POKT Holdings</text>

</g>

<!-- Return Gateway Stake Policy&#45;&gt;Modify Gateway POKT Holdings -->

<g id="edge3" class="edge">

<title>Return Gateway Stake Policy&#45;&gt;Modify Gateway POKT Holdings</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M389.94,-262.53C389.94,-243.94 389.94,-214.24 389.94,-192.5"/>

<polygon fill="black" stroke="black" points="393.44,-192.25 389.94,-182.25 386.44,-192.25 393.44,-192.25"/>

<text text-anchor="middle" x="434.94" y="-233.8" font-family="Times,serif" font-size="14.00">Modify</text>

<text text-anchor="middle" x="434.94" y="-218.8" font-family="Times,serif" font-size="14.00">Gateway POKT</text>

<text text-anchor="middle" x="434.94" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Modify Gateway Stake -->

<g id="node5" class="node">

<title>Modify Gateway Stake</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="636.94" cy="-164" rx="94.78" ry="18"/>

<text text-anchor="middle" x="636.94" y="-160.3" font-family="Times,serif" font-size="14.00">Modify Gateway Stake</text>

</g>

<!-- Return Gateway Stake Policy&#45;&gt;Modify Gateway Stake -->

<g id="edge4" class="edge">

<title>Return Gateway Stake Policy&#45;&gt;Modify Gateway Stake</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M439.2,-262.98C453.76,-257.6 469.62,-251.38 483.94,-245 524.26,-227.04 568.82,-203.27 599.4,-186.32"/>

<polygon fill="black" stroke="black" points="601.39,-189.21 608.42,-181.29 597.99,-183.1 601.39,-189.21"/>

<text text-anchor="middle" x="616.94" y="-233.8" font-family="Times,serif" font-size="14.00">Modify</text>

<text text-anchor="middle" x="616.94" y="-218.8" font-family="Times,serif" font-size="14.00">Gateway POKT</text>

<text text-anchor="middle" x="616.94" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Gateway.Stake Status -->

<g id="node7" class="node">

<title>Gateway.Stake Status</title>

<ellipse fill="none" stroke="black" cx="162.94" cy="-91" rx="89.88" ry="18"/>

<text text-anchor="middle" x="162.94" y="-87.3" font-family="Times,serif" font-size="14.00">Gateway.Stake Status</text>

</g>

<!-- Update Gateway Stake Status&#45;&gt;Gateway.Stake Status -->

<g id="edge5" class="edge">

<title>Update Gateway Stake Status&#45;&gt;Gateway.Stake Status</title>

<path fill="none" stroke="black" d="M129.59,-145.81C134.83,-137.35 141.26,-126.98 147.07,-117.61"/>

<polygon fill="black" stroke="black" points="150.09,-119.37 152.39,-109.03 144.14,-115.69 150.09,-119.37"/>

</g>

<!-- Gateway.POKT Holdings -->

<g id="node8" class="node">

<title>Gateway.POKT Holdings</title>

<ellipse fill="none" stroke="black" cx="389.94" cy="-91" rx="103.98" ry="18"/>

<text text-anchor="middle" x="389.94" y="-87.3" font-family="Times,serif" font-size="14.00">Gateway.POKT Holdings</text>

</g>

<!-- Modify Gateway POKT Holdings&#45;&gt;Gateway.POKT Holdings -->

<g id="edge6" class="edge">

<title>Modify Gateway POKT Holdings&#45;&gt;Gateway.POKT Holdings</title>

<path fill="none" stroke="black" d="M389.94,-145.81C389.94,-137.79 389.94,-128.05 389.94,-119.07"/>

<polygon fill="black" stroke="black" points="393.44,-119.03 389.94,-109.03 386.44,-119.03 393.44,-119.03"/>

</g>

<!-- Gateway.Staked POKT -->

<g id="node9" class="node">

<title>Gateway.Staked POKT</title>

<ellipse fill="none" stroke="black" cx="621.94" cy="-91" rx="95.58" ry="18"/>

<text text-anchor="middle" x="621.94" y="-87.3" font-family="Times,serif" font-size="14.00">Gateway.Staked POKT</text>

</g>

<!-- Modify Gateway Stake&#45;&gt;Gateway.Staked POKT -->

<g id="edge7" class="edge">

<title>Modify Gateway Stake&#45;&gt;Gateway.Staked POKT</title>

<path fill="none" stroke="black" d="M633.31,-145.81C631.61,-137.79 629.56,-128.05 627.66,-119.07"/>

<polygon fill="black" stroke="black" points="631.03,-118.09 625.54,-109.03 624.18,-119.54 631.03,-118.09"/>

</g>

<!-- Gateway_2 -->

<g id="node6" class="node">

<title>Gateway_2</title>

<path fill="none" stroke="black" d="M422.94,-32.73C422.94,-34.53 408.15,-36 389.94,-36 371.73,-36 356.94,-34.53 356.94,-32.73 356.94,-32.73 356.94,-3.27 356.94,-3.27 356.94,-1.47 371.73,0 389.94,0 408.15,0 422.94,-1.47 422.94,-3.27 422.94,-3.27 422.94,-32.73 422.94,-32.73"/>

<path fill="none" stroke="black" d="M422.94,-32.73C422.94,-30.92 408.15,-29.45 389.94,-29.45 371.73,-29.45 356.94,-30.92 356.94,-32.73"/>

<text text-anchor="middle" x="389.94" y="-14.3" font-family="Times,serif" font-size="14.00">Gateway</text>

</g>

<!-- Gateway.Stake Status&#45;&gt;Gateway_2 -->

<g id="edge8" class="edge">

<title>Gateway.Stake Status&#45;&gt;Gateway_2</title>

<path fill="none" stroke="black" d="M209.15,-75.55C249.54,-62.91 307.73,-44.71 347.09,-32.4"/>

<polygon fill="black" stroke="black" points="348.17,-35.73 356.67,-29.41 346.08,-29.05 348.17,-35.73"/>

</g>

<!-- Gateway.POKT Holdings&#45;&gt;Gateway_2 -->

<g id="edge9" class="edge">

<title>Gateway.POKT Holdings&#45;&gt;Gateway_2</title>

<path fill="none" stroke="black" d="M389.94,-72.81C389.94,-64.79 389.94,-55.05 389.94,-46.07"/>

<polygon fill="black" stroke="black" points="393.44,-46.03 389.94,-36.03 386.44,-46.03 393.44,-46.03"/>

</g>

<!-- Gateway.Staked POKT&#45;&gt;Gateway_2 -->

<g id="edge10" class="edge">

<title>Gateway.Staked POKT&#45;&gt;Gateway_2</title>

<path fill="none" stroke="black" d="M574.15,-75.37C532.57,-62.65 472.87,-44.38 432.81,-32.12"/>

<polygon fill="black" stroke="black" points="433.66,-28.72 423.07,-29.14 431.61,-35.41 433.66,-28.72"/>

</g>

</g>

</svg>
<h2>State</h2><h3>Local States</h3><h2>Spaces</h2><h3>Modify Gateway POKT Space</h3><p>{public_key: Public Key,<br/>amount: uPOKT}</p><h3>Servicer Stake Status Space</h3><p>{address: Public Key,<br/>height: Block Height,<br/>status: StakeStatusType}</p><h3>Return Gateway Stake Space</h3><p>{public_key: Public Key,<br/>amount: uPOKT}</p><h2>Behavioral Action Space</h2><h2>Control Action Space</h2><h3>Return Gateway Stake</h3><p>After unstaking, the original stake (i.e. deposit) is returned to the Gateway's custodial account after an unbounding period has elapsed.</p><h4>Constraints:</h4>
<h2>Policies</h2><h3>Return Gateway Stake Policy</h3><p>The policy which determines when a gateway can have their stake returned.</p><h4>Preceded By:</h4>
<p>1. Return Gateway Stake</p><h4>Domain Spaces:</h4>
<p>1. Return Gateway Stake Space</p><h4>Followed By:</h4>
<p>1. Update Gateway Stake Status</p><p>2. Modify Gateway POKT Holdings</p><p>3. Modify Gateway Stake</p><h4>Codomain Spaces:</h4>
<p>1. Servicer Stake Status Space</p><p>2. Modify Gateway POKT Space</p><p>3. Modify Gateway POKT Space</p><h4>Constraints:</h4>
<h2>Mechanisms</h2><h3>Update Gateway Stake Status</h3><p>The mechanism for updating gateway stake status</p><h4>Preceded By:</h4>
<p>1. Gateway Unregistration Policy</p><p>2. Return Gateway Stake Policy</p><h4>Domain Spaces:</h4>
<p>1. Servicer Stake Status Space</p><h4>State Updates:</h4>
<p>1. Gateway.Stake Status</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The gateway at DOMAIN[0].gateway_address has its stake status updated to DOMAIN[0].status</p><h3>Modify Gateway POKT Holdings</h3><p>The mechanism to update the personal holdings of a gateway</p><h4>Preceded By:</h4>
<p>1. Gateway Registration Policy</p><p>2. Return Gateway Stake Policy</p><h4>Domain Spaces:</h4>
<p>1. Modify Gateway POKT Space</p><h4>State Updates:</h4>
<p>1. Gateway.POKT Holdings</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The gateway at DOMAIN[0].gateway_address has its POKT Holdings modified by DOMAIN[0].value</p><h3>Modify Gateway Stake</h3><p>The mechanism to update the stake of a gateway</p><h4>Preceded By:</h4>
<p>1. Servicer Relay Policy</p><p>2. Gateway Registration Policy</p><p>3. Return Gateway Stake Policy</p><h4>Domain Spaces:</h4>
<p>1. Modify Gateway POKT Space</p><h4>State Updates:</h4>
<p>1. Gateway.Staked POKT</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The gateway at DOMAIN[0].gateway_address has its stake modified by DOMAIN[0].value</p><h2>Parameters</h2><p>gateway_unstaking_time</p>