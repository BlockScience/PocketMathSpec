<p>For explanations of generalized dynamical systems as well as how the mathematical specification library works in detail, please consult the documentation <a href="https://github.com/BlockScience/MSML/tree/main/docs">here</a></p>Graph Legend:<br/>Cylinder: Entity<br/>Orange Diamond: Boundary Action<br/>Red Square: Policy<br/>Blue Circle: Mechanism<br/>Transparent Circle: State Variable<h2>Action Map</h2><?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.48.0 (0)

 -->

<!-- Title: Application Delegate to Gateway Pages: 1 -->

<svg width="436pt" height="497pt"

 viewBox="0.00 0.00 435.73 497.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 493)">

<title>Application Delegate to Gateway</title>

<polygon fill="white" stroke="transparent" points="-4,4 -4,-493 431.73,-493 431.73,4 -4,4"/>

<!-- Application -->

<g id="node1" class="node">

<title>Application</title>

<path fill="none" stroke="black" d="M268.84,-485.73C268.84,-487.53 250.24,-489 227.34,-489 204.44,-489 185.84,-487.53 185.84,-485.73 185.84,-485.73 185.84,-456.27 185.84,-456.27 185.84,-454.47 204.44,-453 227.34,-453 250.24,-453 268.84,-454.47 268.84,-456.27 268.84,-456.27 268.84,-485.73 268.84,-485.73"/>

<path fill="none" stroke="black" d="M268.84,-485.73C268.84,-483.92 250.24,-482.45 227.34,-482.45 204.44,-482.45 185.84,-483.92 185.84,-485.73"/>

<text text-anchor="middle" x="227.34" y="-467.3" font-family="Times,serif" font-size="14.00">Application</text>

</g>

<!-- Application Delegate to Gateway -->

<g id="node2" class="node">

<title>Application Delegate to Gateway</title>

<polygon fill="orange" stroke="orange" points="227.34,-416 55.57,-398 227.34,-380 399.1,-398 227.34,-416"/>

<text text-anchor="middle" x="227.34" y="-394.3" font-family="Times,serif" font-size="14.00">Application Delegate to Gateway</text>

</g>

<!-- Application&#45;&gt;Application Delegate to Gateway -->

<g id="edge1" class="edge">

<title>Application&#45;&gt;Application Delegate to Gateway</title>

<path fill="none" stroke="black" d="M227.34,-452.81C227.34,-444.79 227.34,-435.05 227.34,-426.07"/>

<polygon fill="black" stroke="black" points="230.84,-426.03 227.34,-416.03 223.84,-426.03 230.84,-426.03"/>

</g>

<!-- Application Delegate to Gateway Policy -->

<g id="node3" class="node">

<title>Application Delegate to Gateway Policy</title>

<polygon fill="red" stroke="red" points="340.34,-299 114.34,-299 114.34,-263 340.34,-263 340.34,-299"/>

<text text-anchor="middle" x="227.34" y="-277.3" font-family="Times,serif" font-size="14.00">Application Delegate to Gateway Policy</text>

</g>

<!-- Application Delegate to Gateway&#45;&gt;Application Delegate to Gateway Policy -->

<g id="edge2" class="edge">

<title>Application Delegate to Gateway&#45;&gt;Application Delegate to Gateway Policy</title>

<path fill="none" stroke="black" d="M227.34,-379.53C227.34,-360.94 227.34,-331.24 227.34,-309.5"/>

<polygon fill="black" stroke="black" points="230.84,-309.25 227.34,-299.25 223.84,-309.25 230.84,-309.25"/>

<text text-anchor="middle" x="262.84" y="-350.8" font-family="Times,serif" font-size="14.00">Application</text>

<text text-anchor="middle" x="262.84" y="-335.8" font-family="Times,serif" font-size="14.00">Delegate to</text>

<text text-anchor="middle" x="262.84" y="-320.8" font-family="Times,serif" font-size="14.00">Gateway Space</text>

</g>

<!-- Update Application Delegate -->

<g id="node4" class="node">

<title>Update Application Delegate</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="116.34" cy="-164" rx="116.18" ry="18"/>

<text text-anchor="middle" x="116.34" y="-160.3" font-family="Times,serif" font-size="14.00">Update Application Delegate</text>

</g>

<!-- Application Delegate to Gateway Policy&#45;&gt;Update Application Delegate -->

<g id="edge3" class="edge">

<title>Application Delegate to Gateway Policy&#45;&gt;Update Application Delegate</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M210.48,-262.53C191.6,-242.97 160.88,-211.14 139.69,-189.2"/>

<polygon fill="black" stroke="black" points="142.1,-186.64 132.63,-181.88 137.06,-191.51 142.1,-186.64"/>

<text text-anchor="middle" x="227.84" y="-233.8" font-family="Times,serif" font-size="14.00">Application</text>

<text text-anchor="middle" x="227.84" y="-218.8" font-family="Times,serif" font-size="14.00">Delegate to</text>

<text text-anchor="middle" x="227.84" y="-203.8" font-family="Times,serif" font-size="14.00">Gateway Space</text>

</g>

<!-- Add Gateway Delegator -->

<g id="node5" class="node">

<title>Add Gateway Delegator</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="339.34" cy="-164" rx="88.28" ry="18"/>

<text text-anchor="middle" x="339.34" y="-160.3" font-family="Times,serif" font-size="14.00">Add Gateway Delegator</text>

</g>

<!-- Application Delegate to Gateway Policy&#45;&gt;Add Gateway Delegator -->

<g id="edge4" class="edge">

<title>Application Delegate to Gateway Policy&#45;&gt;Add Gateway Delegator</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M248.11,-262.65C254.43,-257.16 261.29,-250.96 267.34,-245 285.24,-227.35 304.21,-206.15 318.19,-190.01"/>

<polygon fill="black" stroke="black" points="321.14,-191.95 325.01,-182.08 315.83,-187.38 321.14,-191.95"/>

<text text-anchor="middle" x="344.84" y="-233.8" font-family="Times,serif" font-size="14.00">Application</text>

<text text-anchor="middle" x="344.84" y="-218.8" font-family="Times,serif" font-size="14.00">Delegate to</text>

<text text-anchor="middle" x="344.84" y="-203.8" font-family="Times,serif" font-size="14.00">Gateway Space</text>

</g>

<!-- Application.Delegate -->

<g id="node8" class="node">

<title>Application.Delegate</title>

<ellipse fill="none" stroke="black" cx="116.34" cy="-91" rx="88.28" ry="18"/>

<text text-anchor="middle" x="116.34" y="-87.3" font-family="Times,serif" font-size="14.00">Application.Delegate</text>

</g>

<!-- Update Application Delegate&#45;&gt;Application.Delegate -->

<g id="edge5" class="edge">

<title>Update Application Delegate&#45;&gt;Application.Delegate</title>

<path fill="none" stroke="black" d="M116.34,-145.81C116.34,-137.79 116.34,-128.05 116.34,-119.07"/>

<polygon fill="black" stroke="black" points="119.84,-119.03 116.34,-109.03 112.84,-119.03 119.84,-119.03"/>

</g>

<!-- Gateway.Delegators -->

<g id="node9" class="node">

<title>Gateway.Delegators</title>

<ellipse fill="none" stroke="black" cx="339.34" cy="-91" rx="74.19" ry="18"/>

<text text-anchor="middle" x="339.34" y="-87.3" font-family="Times,serif" font-size="14.00">Gateway.Delegators</text>

</g>

<!-- Add Gateway Delegator&#45;&gt;Gateway.Delegators -->

<g id="edge6" class="edge">

<title>Add Gateway Delegator&#45;&gt;Gateway.Delegators</title>

<path fill="none" stroke="black" d="M339.34,-145.81C339.34,-137.79 339.34,-128.05 339.34,-119.07"/>

<polygon fill="black" stroke="black" points="342.84,-119.03 339.34,-109.03 335.84,-119.03 342.84,-119.03"/>

</g>

<!-- Application_2 -->

<g id="node6" class="node">

<title>Application_2</title>

<path fill="none" stroke="black" d="M157.84,-32.73C157.84,-34.53 139.24,-36 116.34,-36 93.44,-36 74.84,-34.53 74.84,-32.73 74.84,-32.73 74.84,-3.27 74.84,-3.27 74.84,-1.47 93.44,0 116.34,0 139.24,0 157.84,-1.47 157.84,-3.27 157.84,-3.27 157.84,-32.73 157.84,-32.73"/>

<path fill="none" stroke="black" d="M157.84,-32.73C157.84,-30.92 139.24,-29.45 116.34,-29.45 93.44,-29.45 74.84,-30.92 74.84,-32.73"/>

<text text-anchor="middle" x="116.34" y="-14.3" font-family="Times,serif" font-size="14.00">Application</text>

</g>

<!-- Gateway_2 -->

<g id="node7" class="node">

<title>Gateway_2</title>

<path fill="none" stroke="black" d="M366.34,-32.73C366.34,-34.53 354.24,-36 339.34,-36 324.44,-36 312.34,-34.53 312.34,-32.73 312.34,-32.73 312.34,-3.27 312.34,-3.27 312.34,-1.47 324.44,0 339.34,0 354.24,0 366.34,-1.47 366.34,-3.27 366.34,-3.27 366.34,-32.73 366.34,-32.73"/>

<path fill="none" stroke="black" d="M366.34,-32.73C366.34,-30.92 354.24,-29.45 339.34,-29.45 324.44,-29.45 312.34,-30.92 312.34,-32.73"/>

<text text-anchor="middle" x="339.34" y="-14.3" font-family="Times,serif" font-size="14.00">Gateway</text>

</g>

<!-- Application.Delegate&#45;&gt;Application_2 -->

<g id="edge7" class="edge">

<title>Application.Delegate&#45;&gt;Application_2</title>

<path fill="none" stroke="black" d="M116.34,-72.81C116.34,-64.79 116.34,-55.05 116.34,-46.07"/>

<polygon fill="black" stroke="black" points="119.84,-46.03 116.34,-36.03 112.84,-46.03 119.84,-46.03"/>

</g>

<!-- Gateway.Delegators&#45;&gt;Gateway_2 -->

<g id="edge8" class="edge">

<title>Gateway.Delegators&#45;&gt;Gateway_2</title>

<path fill="none" stroke="black" d="M339.34,-72.81C339.34,-64.79 339.34,-55.05 339.34,-46.07"/>

<polygon fill="black" stroke="black" points="342.84,-46.03 339.34,-36.03 335.84,-46.03 342.84,-46.03"/>

</g>

</g>

</svg>
<h2>State</h2><h3>Local States</h3><h4>Application State</h4><table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Symbol</th>
        <th>Domain</th>
      </tr><tr><td>Public key</td><td>The identifier of the application</td><td>Public Key</td><td></td><td></td></tr><tr><td>POKT Holdings</td><td>The personal holdings of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Staked POKT</td><td>The staked amount of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Services</td><td>The flavor(s) of Web3 hosted by this Servicer</td><td>List[Service]</td><td></td><td></td></tr><tr><td>GeoZone</td><td>The physical geo-location identifier this Servicer registered in</td><td>GeoZone</td><td></td><td></td></tr><tr><td>Number of Servicers</td><td>The number of servicers an application would prefer, if available, for a session.</td><td>int</td><td></td><td></td></tr><tr><td>Stake Status</td><td>The status of staking for the actor</td><td>StakeStatusType</td><td></td><td></td></tr><tr><td>Unstaking Height</td><td>The height for which a servicer has begun unstaking at or none to represent no unstaking</td><td>Block Height</td><td></td><td></td></tr><tr><td>Delegate</td><td>The gateway which has been delegated to or None if there is no delegate</td><td>Gateway Entity</td><td></td><td></td></tr></table><h2>Spaces</h2><h3>Application Delegate to Gateway Space</h3><p>{application_public_key: Public Key,<br/>gateway_public_key: Public Key}</p><h2>Behavioral Action Space</h2><h3>Application Delegate to Gateway</h3><p>An action where the application delegates to a gateway to control their on-chain actions</p><h4>Called By:</h4>
<p>1. Application</p><h4>Constraints:</h4>
<h2>Control Action Space</h2><h2>Policies</h2><h3>Application Delegate to Gateway Policy</h3><p>Policy for determining if application is able to delegate to a gateway. The stake_per_app_delegation parameter, current stake of the gateway, and current number of delegators will be used in determining if the gateway is able to support the addition of this specific delegation.</p><h4>Preceded By:</h4>
<p>1. Application Delegate to Gateway</p><h4>Domain Spaces:</h4>
<p>1. Application Delegate to Gateway Space</p><h4>Followed By:</h4>
<p>1. Update Application Delegate</p><p>2. Add Gateway Delegator</p><h4>Codomain Spaces:</h4>
<p>1. Application Delegate to Gateway Space</p><p>2. Application Delegate to Gateway Space</p><h4>Constraints:</h4>
<h2>Mechanisms</h2><h3>Update Application Delegate</h3><p>The mechanism which updates delegate gateway that can act on its behalf.</p><h4>Preceded By:</h4>
<p>1. Application Delegate to Gateway Policy</p><p>2. Application Undelegate to Gateway Policy</p><h4>Domain Spaces:</h4>
<p>1. Application Delegate to Gateway Space</p><h4>State Updates:</h4>
<p>1. Application.Delegate</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>Set the delegate mechanism for the application at DOMAIN[0].application_public_key to DOMAIN[0].gateway_public_key</p><h3>Add Gateway Delegator</h3><p>The mechanism which adds an application that the gateway is a delegator for.</p><h4>Preceded By:</h4>
<p>1. Application Delegate to Gateway Policy</p><h4>Domain Spaces:</h4>
<p>1. Application Delegate to Gateway Space</p><h4>State Updates:</h4>
<p>1. Gateway.Delegators</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>Append the application at DOMAIN[0].application_public_key to the delegators attribute for the gateway at DOMAIN[0].gateway_public_key</p><h2>Parameters</h2><p>stake_per_app_delegation</p>