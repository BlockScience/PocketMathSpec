<p>For explanations of generalized dynamical systems as well as how the mathematical specification library works in detail, please consult the documentation <a href="https://github.com/BlockScience/MSML/tree/main/docs">here</a></p>Graph Legend:<br/>Cylinder: Entity<br/>Orange Diamond: Boundary Action<br/>Red Square: Policy<br/>Blue Circle: Mechanism<br/>Transparent Circle: State Variable<h2>Action Map</h2><?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.48.0 (0)

 -->

<!-- Title: Return Portal Stake Pages: 1 -->

<svg width="675pt" height="424pt"

 viewBox="0.00 0.00 675.38 424.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 420)">

<title>Return Portal Stake</title>

<polygon fill="white" stroke="transparent" points="-4,4 -4,-420 671.38,-420 671.38,4 -4,4"/>

<!-- Return Portal Stake -->

<g id="node1" class="node">

<title>Return Portal Stake</title>

<polygon fill="yellow" stroke="yellow" points="356.89,-416 241.26,-398 356.89,-380 472.52,-398 356.89,-416"/>

<text text-anchor="middle" x="356.89" y="-394.3" font-family="Times,serif" font-size="14.00">Return Portal Stake</text>

</g>

<!-- Return Portal Stake Policy -->

<g id="node2" class="node">

<title>Return Portal Stake Policy</title>

<polygon fill="red" stroke="red" points="439.39,-299 274.39,-299 274.39,-263 439.39,-263 439.39,-299"/>

<text text-anchor="middle" x="356.89" y="-277.3" font-family="Times,serif" font-size="14.00">Return Portal Stake Policy</text>

</g>

<!-- Return Portal Stake&#45;&gt;Return Portal Stake Policy -->

<g id="edge1" class="edge">

<title>Return Portal Stake&#45;&gt;Return Portal Stake Policy</title>

<path fill="none" stroke="black" d="M356.89,-379.53C356.89,-360.94 356.89,-331.24 356.89,-309.5"/>

<polygon fill="black" stroke="black" points="360.39,-309.25 356.89,-299.25 353.39,-309.25 360.39,-309.25"/>

<text text-anchor="middle" x="391.39" y="-350.8" font-family="Times,serif" font-size="14.00">Return</text>

<text text-anchor="middle" x="391.39" y="-335.8" font-family="Times,serif" font-size="14.00">Portal Stake</text>

<text text-anchor="middle" x="391.39" y="-320.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Update Portal Stake Status -->

<g id="node3" class="node">

<title>Update Portal Stake Status</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="107.89" cy="-164" rx="107.78" ry="18"/>

<text text-anchor="middle" x="107.89" y="-160.3" font-family="Times,serif" font-size="14.00">Update Portal Stake Status</text>

</g>

<!-- Return Portal Stake Policy&#45;&gt;Update Portal Stake Status -->

<g id="edge2" class="edge">

<title>Return Portal Stake Policy&#45;&gt;Update Portal Stake Status</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M319.88,-262.91C275.05,-242.2 199.6,-207.36 151.85,-185.3"/>

<polygon fill="black" stroke="black" points="153.24,-182.09 142.69,-181.07 150.3,-188.44 153.24,-182.09"/>

<text text-anchor="middle" x="311.39" y="-233.8" font-family="Times,serif" font-size="14.00">Servicer</text>

<text text-anchor="middle" x="311.39" y="-218.8" font-family="Times,serif" font-size="14.00">Stake Status</text>

<text text-anchor="middle" x="311.39" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Modify Portal POKT Holdings -->

<g id="node4" class="node">

<title>Modify Portal POKT Holdings</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="356.89" cy="-164" rx="123.48" ry="18"/>

<text text-anchor="middle" x="356.89" y="-160.3" font-family="Times,serif" font-size="14.00">Modify Portal POKT Holdings</text>

</g>

<!-- Return Portal Stake Policy&#45;&gt;Modify Portal POKT Holdings -->

<g id="edge3" class="edge">

<title>Return Portal Stake Policy&#45;&gt;Modify Portal POKT Holdings</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M356.89,-262.53C356.89,-243.94 356.89,-214.24 356.89,-192.5"/>

<polygon fill="black" stroke="black" points="360.39,-192.25 356.89,-182.25 353.39,-192.25 360.39,-192.25"/>

<text text-anchor="middle" x="393.89" y="-233.8" font-family="Times,serif" font-size="14.00">Modify</text>

<text text-anchor="middle" x="393.89" y="-218.8" font-family="Times,serif" font-size="14.00">Portal POKT</text>

<text text-anchor="middle" x="393.89" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Modify Portal Stake -->

<g id="node5" class="node">

<title>Modify Portal Stake</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="582.89" cy="-164" rx="84.49" ry="18"/>

<text text-anchor="middle" x="582.89" y="-160.3" font-family="Times,serif" font-size="14.00">Modify Portal Stake</text>

</g>

<!-- Return Portal Stake Policy&#45;&gt;Modify Portal Stake -->

<g id="edge4" class="edge">

<title>Return Portal Stake Policy&#45;&gt;Modify Portal Stake</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M396.43,-262.93C408.84,-257.4 422.51,-251.11 434.89,-245 473.22,-226.07 516.1,-202.64 545.79,-186.04"/>

<polygon fill="black" stroke="black" points="547.56,-189.06 554.57,-181.12 544.13,-182.96 547.56,-189.06"/>

<text text-anchor="middle" x="555.89" y="-233.8" font-family="Times,serif" font-size="14.00">Modify</text>

<text text-anchor="middle" x="555.89" y="-218.8" font-family="Times,serif" font-size="14.00">Portal POKT</text>

<text text-anchor="middle" x="555.89" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Portal.Stake Status -->

<g id="node7" class="node">

<title>Portal.Stake Status</title>

<ellipse fill="none" stroke="black" cx="150.89" cy="-91" rx="79.09" ry="18"/>

<text text-anchor="middle" x="150.89" y="-87.3" font-family="Times,serif" font-size="14.00">Portal.Stake Status</text>

</g>

<!-- Update Portal Stake Status&#45;&gt;Portal.Stake Status -->

<g id="edge5" class="edge">

<title>Update Portal Stake Status&#45;&gt;Portal.Stake Status</title>

<path fill="none" stroke="black" d="M118.3,-145.81C123.42,-137.35 129.7,-126.98 135.38,-117.61"/>

<polygon fill="black" stroke="black" points="138.39,-119.4 140.58,-109.03 132.4,-115.77 138.39,-119.4"/>

</g>

<!-- Portal.POKT Holdings -->

<g id="node8" class="node">

<title>Portal.POKT Holdings</title>

<ellipse fill="none" stroke="black" cx="356.89" cy="-91" rx="94.48" ry="18"/>

<text text-anchor="middle" x="356.89" y="-87.3" font-family="Times,serif" font-size="14.00">Portal.POKT Holdings</text>

</g>

<!-- Modify Portal POKT Holdings&#45;&gt;Portal.POKT Holdings -->

<g id="edge6" class="edge">

<title>Modify Portal POKT Holdings&#45;&gt;Portal.POKT Holdings</title>

<path fill="none" stroke="black" d="M356.89,-145.81C356.89,-137.79 356.89,-128.05 356.89,-119.07"/>

<polygon fill="black" stroke="black" points="360.39,-119.03 356.89,-109.03 353.39,-119.03 360.39,-119.03"/>

</g>

<!-- Portal.Staked POKT -->

<g id="node9" class="node">

<title>Portal.Staked POKT</title>

<ellipse fill="none" stroke="black" cx="568.89" cy="-91" rx="85.59" ry="18"/>

<text text-anchor="middle" x="568.89" y="-87.3" font-family="Times,serif" font-size="14.00">Portal.Staked POKT</text>

</g>

<!-- Modify Portal Stake&#45;&gt;Portal.Staked POKT -->

<g id="edge7" class="edge">

<title>Modify Portal Stake&#45;&gt;Portal.Staked POKT</title>

<path fill="none" stroke="black" d="M579.5,-145.81C577.92,-137.79 576,-128.05 574.23,-119.07"/>

<polygon fill="black" stroke="black" points="577.62,-118.16 572.25,-109.03 570.75,-119.52 577.62,-118.16"/>

</g>

<!-- Portal_2 -->

<g id="node6" class="node">

<title>Portal_2</title>

<path fill="none" stroke="black" d="M383.89,-32.73C383.89,-34.53 371.79,-36 356.89,-36 341.99,-36 329.89,-34.53 329.89,-32.73 329.89,-32.73 329.89,-3.27 329.89,-3.27 329.89,-1.47 341.99,0 356.89,0 371.79,0 383.89,-1.47 383.89,-3.27 383.89,-3.27 383.89,-32.73 383.89,-32.73"/>

<path fill="none" stroke="black" d="M383.89,-32.73C383.89,-30.92 371.79,-29.45 356.89,-29.45 341.99,-29.45 329.89,-30.92 329.89,-32.73"/>

<text text-anchor="middle" x="356.89" y="-14.3" font-family="Times,serif" font-size="14.00">Portal</text>

</g>

<!-- Portal.Stake Status&#45;&gt;Portal_2 -->

<g id="edge8" class="edge">

<title>Portal.Stake Status&#45;&gt;Portal_2</title>

<path fill="none" stroke="black" d="M192.58,-75.63C229.97,-62.74 284.33,-44.01 320.13,-31.67"/>

<polygon fill="black" stroke="black" points="321.39,-34.94 329.71,-28.37 319.11,-28.32 321.39,-34.94"/>

</g>

<!-- Portal.POKT Holdings&#45;&gt;Portal_2 -->

<g id="edge9" class="edge">

<title>Portal.POKT Holdings&#45;&gt;Portal_2</title>

<path fill="none" stroke="black" d="M356.89,-72.81C356.89,-64.79 356.89,-55.05 356.89,-46.07"/>

<polygon fill="black" stroke="black" points="360.39,-46.03 356.89,-36.03 353.39,-46.03 360.39,-46.03"/>

</g>

<!-- Portal.Staked POKT&#45;&gt;Portal_2 -->

<g id="edge10" class="edge">

<title>Portal.Staked POKT&#45;&gt;Portal_2</title>

<path fill="none" stroke="black" d="M525.48,-75.46C486.72,-62.48 430.58,-43.68 393.91,-31.4"/>

<polygon fill="black" stroke="black" points="394.7,-27.97 384.11,-28.12 392.48,-34.61 394.7,-27.97"/>

</g>

</g>

</svg>
<h2>State</h2><h3>Local States</h3><h2>Spaces</h2><h3>Return Portal Stake Space</h3><p>{public_key: Public Key,<br/>amount: uPOKT}</p><h3>Modify Portal POKT Space</h3><p>{public_key: Public Key,<br/>amount: uPOKT}</p><h3>Servicer Stake Status Space</h3><p>{address: Public Key,<br/>height: Block Height,<br/>status: StakeStatusType}</p><h2>Behavioral Action Space</h2><h2>Policies</h2><h3>Return Portal Stake Policy</h3><p>The policy which determines when a portal can have their stake returned.</p><h4>Preceded By:</h4>
<p>1. Return Portal Stake</p><h4>Domain Spaces:</h4>
<p>1. Return Portal Stake Space</p><h4>Followed By:</h4>
<p>1. Update Portal Stake Status</p><p>2. Modify Portal POKT Holdings</p><p>3. Modify Portal Stake</p><h4>Codomain Spaces:</h4>
<p>1. Servicer Stake Status Space</p><p>2. Modify Portal POKT Space</p><p>3. Modify Portal POKT Space</p><h4>Constraints:</h4>
<h2>Mechanisms</h2><h3>Update Portal Stake Status</h3><p>The mechanism for updating portal stake status</p><h4>Preceded By:</h4>
<p>1. Portal Unregistration Policy</p><p>2. Return Portal Stake Policy</p><h4>Domain Spaces:</h4>
<p>1. Servicer Stake Status Space</p><h4>State Updates:</h4>
<p>1. Portal.Stake Status</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The portal at DOMAIN[0].portal_address has its stake status updated to DOMAIN[0].status</p><h3>Modify Portal POKT Holdings</h3><p>The mechanism to update the personal holdings of a portal</p><h4>Preceded By:</h4>
<p>1. Portal Registration Policy</p><p>2. Return Portal Stake Policy</p><h4>Domain Spaces:</h4>
<p>1. Modify Portal POKT Space</p><h4>State Updates:</h4>
<p>1. Portal.POKT Holdings</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The portal at DOMAIN[0].portal_address has its POKT Holdings modified by DOMAIN[0].value</p><h3>Modify Portal Stake</h3><p>The mechanism to update the stake of a portal</p><h4>Preceded By:</h4>
<p>1. Portal Registration Policy</p><p>2. Return Portal Stake Policy</p><h4>Domain Spaces:</h4>
<p>1. Modify Portal POKT Space</p><h4>State Updates:</h4>
<p>1. Portal.Staked POKT</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The portal at DOMAIN[0].portal_address has its stake modified by DOMAIN[0].value</p><h2>Parameters</h2><p>portal_unstaking_time</p>