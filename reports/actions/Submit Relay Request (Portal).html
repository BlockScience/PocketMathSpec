<p>For explanations of generalized dynamical systems as well as how the mathematical specification library works in detail, please consult the documentation <a href="https://github.com/BlockScience/MSML/tree/main/docs">here</a></p>Graph Legend:<br/>Cylinder: Entity<br/>Orange Diamond: Boundary Action<br/>Red Square: Policy<br/>Blue Circle: Mechanism<br/>Transparent Circle: State Variable<h2>Action Map</h2><?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.48.0 (0)

 -->

<!-- Title: Submit Relay Request (Portal) Pages: 1 -->

<svg width="602pt" height="614pt"

 viewBox="0.00 0.00 601.53 614.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 610)">

<title>Submit Relay Request (Portal)</title>

<polygon fill="white" stroke="transparent" points="-4,4 -4,-610 597.53,-610 597.53,4 -4,4"/>

<!-- Portal -->

<g id="node1" class="node">

<title>Portal</title>

<path fill="none" stroke="black" d="M444.69,-602.73C444.69,-604.53 432.59,-606 417.69,-606 402.79,-606 390.69,-604.53 390.69,-602.73 390.69,-602.73 390.69,-573.27 390.69,-573.27 390.69,-571.47 402.79,-570 417.69,-570 432.59,-570 444.69,-571.47 444.69,-573.27 444.69,-573.27 444.69,-602.73 444.69,-602.73"/>

<path fill="none" stroke="black" d="M444.69,-602.73C444.69,-600.92 432.59,-599.45 417.69,-599.45 402.79,-599.45 390.69,-600.92 390.69,-602.73"/>

<text text-anchor="middle" x="417.69" y="-584.3" font-family="Times,serif" font-size="14.00">Portal</text>

</g>

<!-- Submit Relay Request (Portal) -->

<g id="node2" class="node">

<title>Submit Relay Request (Portal)</title>

<polygon fill="orange" stroke="orange" points="417.69,-533 245.09,-515 417.69,-497 590.29,-515 417.69,-533"/>

<text text-anchor="middle" x="417.69" y="-511.3" font-family="Times,serif" font-size="14.00">Submit Relay Request (Portal)</text>

</g>

<!-- Portal&#45;&gt;Submit Relay Request (Portal) -->

<g id="edge1" class="edge">

<title>Portal&#45;&gt;Submit Relay Request (Portal)</title>

<path fill="none" stroke="black" d="M417.69,-569.81C417.69,-561.79 417.69,-552.05 417.69,-543.07"/>

<polygon fill="black" stroke="black" points="421.19,-543.03 417.69,-533.03 414.19,-543.03 421.19,-543.03"/>

</g>

<!-- Submit Relay Request (Portal) Policy -->

<g id="node3" class="node">

<title>Submit Relay Request (Portal) Policy</title>

<polygon fill="red" stroke="red" points="531.19,-416 304.19,-416 304.19,-380 531.19,-380 531.19,-416"/>

<text text-anchor="middle" x="417.69" y="-394.3" font-family="Times,serif" font-size="14.00">Submit Relay Request (Portal) Policy</text>

</g>

<!-- Submit Relay Request (Portal)&#45;&gt;Submit Relay Request (Portal) Policy -->

<g id="edge2" class="edge">

<title>Submit Relay Request (Portal)&#45;&gt;Submit Relay Request (Portal) Policy</title>

<path fill="none" stroke="black" d="M417.69,-496.53C417.69,-477.94 417.69,-448.24 417.69,-426.5"/>

<polygon fill="black" stroke="black" points="421.19,-426.25 417.69,-416.25 414.19,-426.25 421.19,-426.25"/>

<text text-anchor="middle" x="452.69" y="-467.8" font-family="Times,serif" font-size="14.00">Portal Relay</text>

<text text-anchor="middle" x="452.69" y="-452.8" font-family="Times,serif" font-size="14.00">Request</text>

<text text-anchor="middle" x="452.69" y="-437.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Burn Per Session Policy -->

<g id="node4" class="node">

<title>Burn Per Session Policy</title>

<polygon fill="red" stroke="red" points="404.69,-299 252.69,-299 252.69,-263 404.69,-263 404.69,-299"/>

<text text-anchor="middle" x="328.69" y="-277.3" font-family="Times,serif" font-size="14.00">Burn Per Session Policy</text>

</g>

<!-- Submit Relay Request (Portal) Policy&#45;&gt;Burn Per Session Policy -->

<g id="edge4" class="edge">

<title>Submit Relay Request (Portal) Policy&#45;&gt;Burn Per Session Policy</title>

<path fill="none" stroke="black" d="M402.48,-379.76C397.66,-374.17 392.37,-367.89 387.69,-362 373.46,-344.11 358.16,-323.31 346.7,-307.41"/>

<polygon fill="black" stroke="black" points="349.44,-305.22 340.77,-299.13 343.75,-309.29 349.44,-305.22"/>

<text text-anchor="middle" x="426.19" y="-350.8" font-family="Times,serif" font-size="14.00">Submit Relay</text>

<text text-anchor="middle" x="426.19" y="-335.8" font-family="Times,serif" font-size="14.00">Request</text>

<text text-anchor="middle" x="426.19" y="-320.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Create New Session -->

<g id="node5" class="node">

<title>Create New Session</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="509.69" cy="-281" rx="83.69" ry="18"/>

<text text-anchor="middle" x="509.69" y="-277.3" font-family="Times,serif" font-size="14.00">Create New Session</text>

</g>

<!-- Submit Relay Request (Portal) Policy&#45;&gt;Create New Session -->

<g id="edge3" class="edge">

<title>Submit Relay Request (Portal) Policy&#45;&gt;Create New Session</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M444.7,-379.89C451.71,-374.67 458.91,-368.57 464.69,-362 478.77,-346 490.42,-324.88 498.34,-308.36"/>

<polygon fill="black" stroke="black" points="501.54,-309.78 502.56,-299.24 495.18,-306.84 501.54,-309.78"/>

<text text-anchor="middle" x="532.19" y="-350.8" font-family="Times,serif" font-size="14.00">Submit Relay</text>

<text text-anchor="middle" x="532.19" y="-335.8" font-family="Times,serif" font-size="14.00">Request</text>

<text text-anchor="middle" x="532.19" y="-320.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Burn POKT Mechanism -->

<g id="node6" class="node">

<title>Burn POKT Mechanism</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="105.69" cy="-164" rx="99.38" ry="18"/>

<text text-anchor="middle" x="105.69" y="-160.3" font-family="Times,serif" font-size="14.00">Burn POKT Mechanism</text>

</g>

<!-- Burn Per Session Policy&#45;&gt;Burn POKT Mechanism -->

<g id="edge5" class="edge">

<title>Burn Per Session Policy&#45;&gt;Burn POKT Mechanism</title>

<path fill="none" stroke="black" d="M292.15,-262.86C280.45,-257.27 267.48,-250.97 255.69,-245 217.51,-225.68 174.46,-202.58 144.3,-186.18"/>

<polygon fill="black" stroke="black" points="145.83,-183.03 135.38,-181.32 142.48,-189.17 145.83,-183.03"/>

<text text-anchor="middle" x="290.19" y="-233.8" font-family="Times,serif" font-size="14.00">Burn POKT</text>

<text text-anchor="middle" x="290.19" y="-218.8" font-family="Times,serif" font-size="14.00">Mechanism</text>

<text text-anchor="middle" x="290.19" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Modify Application Stake -->

<g id="node7" class="node">

<title>Modify Application Stake</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="328.69" cy="-164" rx="105.08" ry="18"/>

<text text-anchor="middle" x="328.69" y="-160.3" font-family="Times,serif" font-size="14.00">Modify Application Stake</text>

</g>

<!-- Burn Per Session Policy&#45;&gt;Modify Application Stake -->

<g id="edge6" class="edge">

<title>Burn Per Session Policy&#45;&gt;Modify Application Stake</title>

<path fill="none" stroke="black" d="M328.69,-262.53C328.69,-243.94 328.69,-214.24 328.69,-192.5"/>

<polygon fill="black" stroke="black" points="332.19,-192.25 328.69,-182.25 325.19,-192.25 332.19,-192.25"/>

<text text-anchor="middle" x="365.69" y="-233.8" font-family="Times,serif" font-size="14.00">Modify</text>

<text text-anchor="middle" x="365.69" y="-218.8" font-family="Times,serif" font-size="14.00">Application</text>

<text text-anchor="middle" x="365.69" y="-203.8" font-family="Times,serif" font-size="14.00">POKT Space</text>

</g>

<!-- Global.Sessions -->

<g id="node11" class="node">

<title>Global.Sessions</title>

<ellipse fill="none" stroke="black" cx="520.69" cy="-164" rx="68.79" ry="18"/>

<text text-anchor="middle" x="520.69" y="-160.3" font-family="Times,serif" font-size="14.00">Global.Sessions</text>

</g>

<!-- Create New Session&#45;&gt;Global.Sessions -->

<g id="edge7" class="edge">

<title>Create New Session&#45;&gt;Global.Sessions</title>

<path fill="none" stroke="black" d="M511.36,-262.53C513.14,-243.94 515.98,-214.24 518.06,-192.5"/>

<polygon fill="black" stroke="black" points="521.57,-192.54 519.04,-182.25 514.6,-191.87 521.57,-192.54"/>

</g>

<!-- Treasury.Floating Supply -->

<g id="node12" class="node">

<title>Treasury.Floating Supply</title>

<ellipse fill="none" stroke="black" cx="102.69" cy="-91" rx="102.88" ry="18"/>

<text text-anchor="middle" x="102.69" y="-87.3" font-family="Times,serif" font-size="14.00">Treasury.Floating Supply</text>

</g>

<!-- Burn POKT Mechanism&#45;&gt;Treasury.Floating Supply -->

<g id="edge8" class="edge">

<title>Burn POKT Mechanism&#45;&gt;Treasury.Floating Supply</title>

<path fill="none" stroke="black" d="M104.96,-145.81C104.63,-137.79 104.21,-128.05 103.83,-119.07"/>

<polygon fill="black" stroke="black" points="107.33,-118.87 103.41,-109.03 100.34,-119.17 107.33,-118.87"/>

</g>

<!-- Application.Staked POKT -->

<g id="node13" class="node">

<title>Application.Staked POKT</title>

<ellipse fill="none" stroke="black" cx="329.69" cy="-91" rx="106.68" ry="18"/>

<text text-anchor="middle" x="329.69" y="-87.3" font-family="Times,serif" font-size="14.00">Application.Staked POKT</text>

</g>

<!-- Modify Application Stake&#45;&gt;Application.Staked POKT -->

<g id="edge9" class="edge">

<title>Modify Application Stake&#45;&gt;Application.Staked POKT</title>

<path fill="none" stroke="black" d="M328.93,-145.81C329.05,-137.79 329.18,-128.05 329.31,-119.07"/>

<polygon fill="black" stroke="black" points="332.81,-119.08 329.45,-109.03 325.81,-118.98 332.81,-119.08"/>

</g>

<!-- Global_2 -->

<g id="node8" class="node">

<title>Global_2</title>

<path fill="none" stroke="black" d="M548.19,-105.73C548.19,-107.53 535.86,-109 520.69,-109 505.52,-109 493.19,-107.53 493.19,-105.73 493.19,-105.73 493.19,-76.27 493.19,-76.27 493.19,-74.47 505.52,-73 520.69,-73 535.86,-73 548.19,-74.47 548.19,-76.27 548.19,-76.27 548.19,-105.73 548.19,-105.73"/>

<path fill="none" stroke="black" d="M548.19,-105.73C548.19,-103.92 535.86,-102.45 520.69,-102.45 505.52,-102.45 493.19,-103.92 493.19,-105.73"/>

<text text-anchor="middle" x="520.69" y="-87.3" font-family="Times,serif" font-size="14.00">Global</text>

</g>

<!-- Treasury_2 -->

<g id="node9" class="node">

<title>Treasury_2</title>

<path fill="none" stroke="black" d="M135.69,-32.73C135.69,-34.53 120.9,-36 102.69,-36 84.48,-36 69.69,-34.53 69.69,-32.73 69.69,-32.73 69.69,-3.27 69.69,-3.27 69.69,-1.47 84.48,0 102.69,0 120.9,0 135.69,-1.47 135.69,-3.27 135.69,-3.27 135.69,-32.73 135.69,-32.73"/>

<path fill="none" stroke="black" d="M135.69,-32.73C135.69,-30.92 120.9,-29.45 102.69,-29.45 84.48,-29.45 69.69,-30.92 69.69,-32.73"/>

<text text-anchor="middle" x="102.69" y="-14.3" font-family="Times,serif" font-size="14.00">Treasury</text>

</g>

<!-- Application_2 -->

<g id="node10" class="node">

<title>Application_2</title>

<path fill="none" stroke="black" d="M371.19,-32.73C371.19,-34.53 352.59,-36 329.69,-36 306.79,-36 288.19,-34.53 288.19,-32.73 288.19,-32.73 288.19,-3.27 288.19,-3.27 288.19,-1.47 306.79,0 329.69,0 352.59,0 371.19,-1.47 371.19,-3.27 371.19,-3.27 371.19,-32.73 371.19,-32.73"/>

<path fill="none" stroke="black" d="M371.19,-32.73C371.19,-30.92 352.59,-29.45 329.69,-29.45 306.79,-29.45 288.19,-30.92 288.19,-32.73"/>

<text text-anchor="middle" x="329.69" y="-14.3" font-family="Times,serif" font-size="14.00">Application</text>

</g>

<!-- Global.Sessions&#45;&gt;Global_2 -->

<g id="edge10" class="edge">

<title>Global.Sessions&#45;&gt;Global_2</title>

<path fill="none" stroke="black" d="M520.69,-145.81C520.69,-137.79 520.69,-128.05 520.69,-119.07"/>

<polygon fill="black" stroke="black" points="524.19,-119.03 520.69,-109.03 517.19,-119.03 524.19,-119.03"/>

</g>

<!-- Treasury.Floating Supply&#45;&gt;Treasury_2 -->

<g id="edge11" class="edge">

<title>Treasury.Floating Supply&#45;&gt;Treasury_2</title>

<path fill="none" stroke="black" d="M102.69,-72.81C102.69,-64.79 102.69,-55.05 102.69,-46.07"/>

<polygon fill="black" stroke="black" points="106.19,-46.03 102.69,-36.03 99.19,-46.03 106.19,-46.03"/>

</g>

<!-- Application.Staked POKT&#45;&gt;Application_2 -->

<g id="edge12" class="edge">

<title>Application.Staked POKT&#45;&gt;Application_2</title>

<path fill="none" stroke="black" d="M329.69,-72.81C329.69,-64.79 329.69,-55.05 329.69,-46.07"/>

<polygon fill="black" stroke="black" points="333.19,-46.03 329.69,-36.03 326.19,-46.03 333.19,-46.03"/>

</g>

</g>

</svg>
<h2>State</h2><h3>Local States</h3><h4>Portal State</h4><table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Symbol</th>
        <th>Domain</th>
      </tr><tr><td>Stake Status</td><td>The status of staking for the actor</td><td>StakeStatusType</td><td></td><td></td></tr><tr><td>Delegators</td><td>The applications which have delegated to this portal</td><td>List[Application Entity]</td><td></td><td></td></tr><tr><td>POKT Holdings</td><td>The personal holdings of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Staked POKT</td><td>The amount that is staked by the application currently in uPOKT</td><td>uPOKT</td><td></td><td></td></tr></table><h2>Spaces</h2><h3>Burn POKT Mechanism Space</h3><p>{burn_amount: uPOKT}</p><h3>Portal Relay Request Space</h3><p>{payload: dict,<br/>meta: dict,<br/>proof: dict,<br/>application_address: Public Key,<br/>portal_address: Public Key}</p><h3>Submit Relay Request Space</h3><p>{payload: dict,<br/>meta: dict,<br/>proof: dict,<br/>application_address: Public Key}</p><h3>Modify Application POKT Space</h3><p>{public_key: Public Key,<br/>amount: uPOKT}</p><h2>Behavioral Action Space</h2><h3>Submit Relay Request (Portal)</h3><p>Portal submitting a relay request on behalf of an application.</p><h4>Called By:</h4>
<p>1. Portal</p><h4>Constraints:</h4>
<h2>Policies</h2><h3>Submit Relay Request (Portal) Policy</h3><p>Policy which handles the logic of portal relay requests and fees</p><h4>Preceded By:</h4>
<p>1. Submit Relay Request (Portal)</p><h4>Domain Spaces:</h4>
<p>1. Portal Relay Request Space</p><h4>Followed By:</h4>
<p>1. Create New Session</p><p>2. Burn Per Session Policy</p><h4>Codomain Spaces:</h4>
<p>1. Submit Relay Request Space</p><p>2. Submit Relay Request Space</p><h4>Constraints:</h4>
<h3>Burn Per Session Policy</h3><p>The policy for determining the amount to be burned for session initiation.</p><h4>Preceded By:</h4>
<p>1. Submit Relay Request Policy</p><p>2. Submit Relay Request (Portal) Policy</p><h4>Domain Spaces:</h4>
<p>1. Submit Relay Request Space</p><h4>Followed By:</h4>
<p>1. Burn POKT Mechanism</p><p>2. Modify Application Stake</p><h4>Codomain Spaces:</h4>
<p>1. Burn POKT Mechanism Space</p><p>2. Modify Application POKT Space</p><h4>Constraints:</h4>
<h2>Mechanisms</h2><h3>Create New Session</h3><p>The mechanism which creates and adds a new session with which servicers will do relays on.</p><h4>Preceded By:</h4>
<p>1. Submit Relay Request Policy</p><p>2. Submit Relay Request (Portal) Policy</p><h4>Domain Spaces:</h4>
<p>1. Submit Relay Request Space</p><h4>State Updates:</h4>
<p>1. Global.Sessions</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>Take DOMAIN[0] and create a new session, then append to the global state.</p><h3>Burn POKT Mechanism</h3><p>The mechanism which has the treasury burning POKT</p><h4>Preceded By:</h4>
<p>1. Burn Per Relay Policy</p><p>2. Jail Node Policy</p><p>3. Servicer Forced Unstake Policy</p><p>4. Burn Per Session Policy</p><p>5. Assign Servicer Salary Policy</p><p>6. Burn POKT Policy</p><h4>Domain Spaces:</h4>
<p>1. Burn POKT Mechanism Space</p><h4>State Updates:</h4>
<p>1. Treasury.Floating Supply</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The floating supply decreases by the POKT amount</p><h3>Modify Application Stake</h3><p>The mechanism to update the stake of an application</p><h4>Preceded By:</h4>
<p>1. Servicer Relay Policy</p><p>2. Burn Per Relay Policy</p><p>3. Application Stake Policy</p><p>4. Return Application Stake Policy</p><p>5. Burn Per Session Policy</p><h4>Domain Spaces:</h4>
<p>1. Modify Application POKT Space</p><h4>State Updates:</h4>
<p>1. Application.Staked POKT</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The servicer at DOMAIN[0].application_address has its stake modified by DOMAIN[0].value</p><h2>Parameters</h2><p>gateway_bootstrap_unwind_start</p><p>maturity_relay_cost</p><p>min_bootstrap_gateway_fee_per_relay</p><p>app_burn_per_session</p><p>maturity_relay_charge</p><p>gateway_bootstrap_unwind_end</p>