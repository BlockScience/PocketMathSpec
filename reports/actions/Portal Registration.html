<p>For explanations of generalized dynamical systems as well as how the mathematical specification library works in detail, please consult the documentation <a href="https://github.com/BlockScience/MSML/tree/main/docs">here</a></p>Graph Legend:<br/>Cylinder: Entity<br/>Orange Diamond: Boundary Action<br/>Red Square: Policy<br/>Blue Circle: Mechanism<br/>Transparent Circle: State Variable<h2>Action Map</h2><?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.48.0 (0)

 -->

<!-- Title: Portal Registration Pages: 1 -->

<svg width="599pt" height="497pt"

 viewBox="0.00 0.00 599.03 497.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 493)">

<title>Portal Registration</title>

<polygon fill="white" stroke="transparent" points="-4,4 -4,-493 595.03,-493 595.03,4 -4,4"/>

<!-- Portal -->

<g id="node1" class="node">

<title>Portal</title>

<path fill="none" stroke="black" d="M376.49,-485.73C376.49,-487.53 364.39,-489 349.49,-489 334.59,-489 322.49,-487.53 322.49,-485.73 322.49,-485.73 322.49,-456.27 322.49,-456.27 322.49,-454.47 334.59,-453 349.49,-453 364.39,-453 376.49,-454.47 376.49,-456.27 376.49,-456.27 376.49,-485.73 376.49,-485.73"/>

<path fill="none" stroke="black" d="M376.49,-485.73C376.49,-483.92 364.39,-482.45 349.49,-482.45 334.59,-482.45 322.49,-483.92 322.49,-485.73"/>

<text text-anchor="middle" x="349.49" y="-467.3" font-family="Times,serif" font-size="14.00">Portal</text>

</g>

<!-- Portal Registration -->

<g id="node2" class="node">

<title>Portal Registration</title>

<polygon fill="orange" stroke="orange" points="349.49,-416 237.21,-398 349.49,-380 461.76,-398 349.49,-416"/>

<text text-anchor="middle" x="349.49" y="-394.3" font-family="Times,serif" font-size="14.00">Portal Registration</text>

</g>

<!-- Portal&#45;&gt;Portal Registration -->

<g id="edge1" class="edge">

<title>Portal&#45;&gt;Portal Registration</title>

<path fill="none" stroke="black" d="M349.49,-452.81C349.49,-444.79 349.49,-435.05 349.49,-426.07"/>

<polygon fill="black" stroke="black" points="352.99,-426.03 349.49,-416.03 345.99,-426.03 352.99,-426.03"/>

</g>

<!-- Portal Registration Policy -->

<g id="node3" class="node">

<title>Portal Registration Policy</title>

<polygon fill="red" stroke="red" points="429.99,-299 268.99,-299 268.99,-263 429.99,-263 429.99,-299"/>

<text text-anchor="middle" x="349.49" y="-277.3" font-family="Times,serif" font-size="14.00">Portal Registration Policy</text>

</g>

<!-- Portal Registration&#45;&gt;Portal Registration Policy -->

<g id="edge2" class="edge">

<title>Portal Registration&#45;&gt;Portal Registration Policy</title>

<path fill="none" stroke="black" d="M349.49,-379.53C349.49,-360.94 349.49,-331.24 349.49,-309.5"/>

<polygon fill="black" stroke="black" points="352.99,-309.25 349.49,-299.25 345.99,-309.25 352.99,-309.25"/>

<text text-anchor="middle" x="383.99" y="-350.8" font-family="Times,serif" font-size="14.00">Portal</text>

<text text-anchor="middle" x="383.99" y="-335.8" font-family="Times,serif" font-size="14.00">Registration</text>

<text text-anchor="middle" x="383.99" y="-320.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Modify Portal POKT Holdings -->

<g id="node4" class="node">

<title>Modify Portal POKT Holdings</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="123.49" cy="-164" rx="123.48" ry="18"/>

<text text-anchor="middle" x="123.49" y="-160.3" font-family="Times,serif" font-size="14.00">Modify Portal POKT Holdings</text>

</g>

<!-- Portal Registration Policy&#45;&gt;Modify Portal POKT Holdings -->

<g id="edge3" class="edge">

<title>Portal Registration Policy&#45;&gt;Modify Portal POKT Holdings</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M309.94,-262.93C297.54,-257.4 283.87,-251.11 271.49,-245 233.51,-226.25 191.08,-203.07 161.42,-186.5"/>

<polygon fill="black" stroke="black" points="163.07,-183.42 152.64,-181.58 159.65,-189.53 163.07,-183.42"/>

<text text-anchor="middle" x="308.49" y="-233.8" font-family="Times,serif" font-size="14.00">Modify</text>

<text text-anchor="middle" x="308.49" y="-218.8" font-family="Times,serif" font-size="14.00">Portal POKT</text>

<text text-anchor="middle" x="308.49" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Modify Portal Stake -->

<g id="node5" class="node">

<title>Modify Portal Stake</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="349.49" cy="-164" rx="84.49" ry="18"/>

<text text-anchor="middle" x="349.49" y="-160.3" font-family="Times,serif" font-size="14.00">Modify Portal Stake</text>

</g>

<!-- Portal Registration Policy&#45;&gt;Modify Portal Stake -->

<g id="edge4" class="edge">

<title>Portal Registration Policy&#45;&gt;Modify Portal Stake</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M349.49,-262.53C349.49,-243.94 349.49,-214.24 349.49,-192.5"/>

<polygon fill="black" stroke="black" points="352.99,-192.25 349.49,-182.25 345.99,-192.25 352.99,-192.25"/>

<text text-anchor="middle" x="386.49" y="-233.8" font-family="Times,serif" font-size="14.00">Modify</text>

<text text-anchor="middle" x="386.49" y="-218.8" font-family="Times,serif" font-size="14.00">Portal POKT</text>

<text text-anchor="middle" x="386.49" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Add New Portal -->

<g id="node6" class="node">

<title>Add New Portal</title>

<ellipse fill="#e0eeee" stroke="#e0eeee" cx="521.49" cy="-164" rx="69.59" ry="18"/>

<text text-anchor="middle" x="521.49" y="-160.3" font-family="Times,serif" font-size="14.00">Add New Portal</text>

</g>

<!-- Portal Registration Policy&#45;&gt;Add New Portal -->

<g id="edge5" class="edge">

<title>Portal Registration Policy&#45;&gt;Add New Portal</title>

<path fill="none" stroke="black" stroke-dasharray="5,2" d="M393.53,-262.85C404.93,-257.72 416.95,-251.66 427.49,-245 453.33,-228.68 479.55,-205.71 497.71,-188.57"/>

<polygon fill="black" stroke="black" points="500.17,-191.06 504.98,-181.62 495.33,-186 500.17,-191.06"/>

<text text-anchor="middle" x="519.99" y="-233.8" font-family="Times,serif" font-size="14.00">Portal</text>

<text text-anchor="middle" x="519.99" y="-218.8" font-family="Times,serif" font-size="14.00">Registration</text>

<text text-anchor="middle" x="519.99" y="-203.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Portal.POKT Holdings -->

<g id="node9" class="node">

<title>Portal.POKT Holdings</title>

<ellipse fill="none" stroke="black" cx="132.49" cy="-91" rx="94.48" ry="18"/>

<text text-anchor="middle" x="132.49" y="-87.3" font-family="Times,serif" font-size="14.00">Portal.POKT Holdings</text>

</g>

<!-- Modify Portal POKT Holdings&#45;&gt;Portal.POKT Holdings -->

<g id="edge6" class="edge">

<title>Modify Portal POKT Holdings&#45;&gt;Portal.POKT Holdings</title>

<path fill="none" stroke="black" d="M125.67,-145.81C126.68,-137.79 127.92,-128.05 129.06,-119.07"/>

<polygon fill="black" stroke="black" points="132.55,-119.39 130.33,-109.03 125.6,-118.51 132.55,-119.39"/>

</g>

<!-- Portal.Staked POKT -->

<g id="node10" class="node">

<title>Portal.Staked POKT</title>

<ellipse fill="none" stroke="black" cx="333.49" cy="-91" rx="85.59" ry="18"/>

<text text-anchor="middle" x="333.49" y="-87.3" font-family="Times,serif" font-size="14.00">Portal.Staked POKT</text>

</g>

<!-- Modify Portal Stake&#45;&gt;Portal.Staked POKT -->

<g id="edge7" class="edge">

<title>Modify Portal Stake&#45;&gt;Portal.Staked POKT</title>

<path fill="none" stroke="black" d="M345.62,-145.81C343.81,-137.79 341.61,-128.05 339.59,-119.07"/>

<polygon fill="black" stroke="black" points="342.94,-118.01 337.33,-109.03 336.11,-119.55 342.94,-118.01"/>

</g>

<!-- Global.Portals -->

<g id="node11" class="node">

<title>Global.Portals</title>

<ellipse fill="none" stroke="black" cx="521.49" cy="-91" rx="63.09" ry="18"/>

<text text-anchor="middle" x="521.49" y="-87.3" font-family="Times,serif" font-size="14.00">Global.Portals</text>

</g>

<!-- Add New Portal&#45;&gt;Global.Portals -->

<g id="edge8" class="edge">

<title>Add New Portal&#45;&gt;Global.Portals</title>

<path fill="none" stroke="black" d="M521.49,-145.81C521.49,-137.79 521.49,-128.05 521.49,-119.07"/>

<polygon fill="black" stroke="black" points="524.99,-119.03 521.49,-109.03 517.99,-119.03 524.99,-119.03"/>

</g>

<!-- Portal_2 -->

<g id="node7" class="node">

<title>Portal_2</title>

<path fill="none" stroke="black" d="M238.49,-32.73C238.49,-34.53 226.39,-36 211.49,-36 196.59,-36 184.49,-34.53 184.49,-32.73 184.49,-32.73 184.49,-3.27 184.49,-3.27 184.49,-1.47 196.59,0 211.49,0 226.39,0 238.49,-1.47 238.49,-3.27 238.49,-3.27 238.49,-32.73 238.49,-32.73"/>

<path fill="none" stroke="black" d="M238.49,-32.73C238.49,-30.92 226.39,-29.45 211.49,-29.45 196.59,-29.45 184.49,-30.92 184.49,-32.73"/>

<text text-anchor="middle" x="211.49" y="-14.3" font-family="Times,serif" font-size="14.00">Portal</text>

</g>

<!-- Global_2 -->

<g id="node8" class="node">

<title>Global_2</title>

<path fill="none" stroke="black" d="M548.99,-32.73C548.99,-34.53 536.66,-36 521.49,-36 506.31,-36 493.99,-34.53 493.99,-32.73 493.99,-32.73 493.99,-3.27 493.99,-3.27 493.99,-1.47 506.31,0 521.49,0 536.66,0 548.99,-1.47 548.99,-3.27 548.99,-3.27 548.99,-32.73 548.99,-32.73"/>

<path fill="none" stroke="black" d="M548.99,-32.73C548.99,-30.92 536.66,-29.45 521.49,-29.45 506.31,-29.45 493.99,-30.92 493.99,-32.73"/>

<text text-anchor="middle" x="521.49" y="-14.3" font-family="Times,serif" font-size="14.00">Global</text>

</g>

<!-- Portal.POKT Holdings&#45;&gt;Portal_2 -->

<g id="edge9" class="edge">

<title>Portal.POKT Holdings&#45;&gt;Portal_2</title>

<path fill="none" stroke="black" d="M151.21,-73.17C161.34,-64.07 174.03,-52.67 185.14,-42.68"/>

<polygon fill="black" stroke="black" points="187.8,-44.99 192.9,-35.71 183.12,-39.79 187.8,-44.99"/>

</g>

<!-- Portal.Staked POKT&#45;&gt;Portal_2 -->

<g id="edge10" class="edge">

<title>Portal.Staked POKT&#45;&gt;Portal_2</title>

<path fill="none" stroke="black" d="M305.81,-73.89C288.53,-63.83 266.1,-50.78 247.45,-39.93"/>

<polygon fill="black" stroke="black" points="249.05,-36.81 238.64,-34.8 245.53,-42.86 249.05,-36.81"/>

</g>

<!-- Global.Portals&#45;&gt;Global_2 -->

<g id="edge11" class="edge">

<title>Global.Portals&#45;&gt;Global_2</title>

<path fill="none" stroke="black" d="M521.49,-72.81C521.49,-64.79 521.49,-55.05 521.49,-46.07"/>

<polygon fill="black" stroke="black" points="524.99,-46.03 521.49,-36.03 517.99,-46.03 524.99,-46.03"/>

</g>

</g>

</svg>
<h2>State</h2><h3>Local States</h3><h4>Portal State</h4><table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Symbol</th>
        <th>Domain</th>
      </tr><tr><td>Stake Status</td><td>The status of staking for the actor</td><td>StakeStatusType</td><td></td><td></td></tr><tr><td>Delegators</td><td>The applications which have delegated to this portal</td><td>List[Application Entity]</td><td></td><td></td></tr><tr><td>POKT Holdings</td><td>The personal holdings of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Staked POKT</td><td>The amount that is staked by the application currently in uPOKT</td><td>uPOKT</td><td></td><td></td></tr></table><h2>Spaces</h2><h3>Portal Registration Space</h3><p>{public_key: Public Key,<br/>stake_amount: uPOKT,<br/>service_url: Service URL}</p><h3>Modify Portal POKT Space</h3><p>{public_key: Public Key,<br/>amount: uPOKT}</p><h2>Behavioral Action Space</h2><h3>Portal Registration</h3><p>Registration differs from staking in the sense that the pubKey is known but there are no economic benefits/penalties in this stage of the protocol's progression. The Portal must register on-chain in order for the Servicer to accept its signature as part of the ring. Future versions of the protocol may include on-chain rewards or penalties for the Portal, but the current iteration will incentivize Portals to provide a high quality, highly trusted service through free market economics.</p><h4>Called By:</h4>
<p>1. Portal</p><h4>Constraints:</h4>
<h2>Control Action Space</h2><h2>Policies</h2><h3>Portal Registration Policy</h3><p>Policy which handles the logic of portal registration and if enough stake is present. The portal is also added to the global state if it is approved.</p><h4>Preceded By:</h4>
<p>1. Portal Registration</p><h4>Domain Spaces:</h4>
<p>1. Portal Registration Space</p><h4>Followed By:</h4>
<p>1. Modify Portal POKT Holdings</p><p>2. Modify Portal Stake</p><p>3. Add New Portal</p><h4>Codomain Spaces:</h4>
<p>1. Modify Portal POKT Space</p><p>2. Modify Portal POKT Space</p><p>3. Portal Registration Space</p><h4>Constraints:</h4>
<h2>Mechanisms</h2><h3>Modify Portal POKT Holdings</h3><p>The mechanism to update the personal holdings of a portal</p><h4>Preceded By:</h4>
<p>1. Servicer Relay Policy</p><p>2. Portal Registration Policy</p><p>3. Return Portal Stake Policy</p><h4>Domain Spaces:</h4>
<p>1. Modify Portal POKT Space</p><h4>State Updates:</h4>
<p>1. Portal.POKT Holdings</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The portal at DOMAIN[0].portal_address has its POKT Holdings modified by DOMAIN[0].value</p><h3>Modify Portal Stake</h3><p>The mechanism to update the stake of a portal</p><h4>Preceded By:</h4>
<p>1. Portal Registration Policy</p><p>2. Return Portal Stake Policy</p><h4>Domain Spaces:</h4>
<p>1. Modify Portal POKT Space</p><h4>State Updates:</h4>
<p>1. Portal.Staked POKT</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The portal at DOMAIN[0].portal_address has its stake modified by DOMAIN[0].value</p><h3>Add New Portal</h3><p>The mechanism for adding a new portal to the global state</p><h4>Preceded By:</h4>
<p>1. Portal Registration Policy</p><h4>Domain Spaces:</h4>
<p>1. Portal Registration Space</p><h4>State Updates:</h4>
<p>1. Global.Portals</p><h4>Constraints:</h4>
<h4>Logic:</h4>
<p>The portal at DOMAIN[0].portal_address is added to the global state</p><h2>Parameters</h2><p>portal_minimum_stake</p>