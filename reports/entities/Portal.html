<p>For explanations of generalized dynamical systems as well as how the mathematical specification library works in detail, please consult the documentation <a href="https://github.com/BlockScience/MSML/tree/main/docs">here</a></p>Graph Legend:<br/>Cylinder: Entity<br/>Orange Diamond: Boundary Action<br/>Red Square: Policy<br/>Blue Circle: Mechanism<br/>Transparent Circle: State Variable<h2>Action Map</h2><?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.48.0 (0)

 -->

<!-- Title: Portal Pages: 1 -->

<svg width="1139pt" height="234pt"

 viewBox="0.00 0.00 1139.32 234.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 230)">

<title>Portal</title>

<polygon fill="white" stroke="transparent" points="-4,4 -4,-230 1135.32,-230 1135.32,4 -4,4"/>

<!-- Application -->

<g id="node1" class="node">

<title>Application</title>

<path fill="none" stroke="black" d="M172.02,-222.73C172.02,-224.53 153.42,-226 130.52,-226 107.62,-226 89.02,-224.53 89.02,-222.73 89.02,-222.73 89.02,-193.27 89.02,-193.27 89.02,-191.47 107.62,-190 130.52,-190 153.42,-190 172.02,-191.47 172.02,-193.27 172.02,-193.27 172.02,-222.73 172.02,-222.73"/>

<path fill="none" stroke="black" d="M172.02,-222.73C172.02,-220.92 153.42,-219.45 130.52,-219.45 107.62,-219.45 89.02,-220.92 89.02,-222.73"/>

<text text-anchor="middle" x="130.52" y="-204.3" font-family="Times,serif" font-size="14.00">Application</text>

</g>

<!-- Submit Relay Request -->

<g id="node5" class="node">

<title>Submit Relay Request</title>

<polygon fill="orange" stroke="orange" points="130.52,-153 -0.02,-135 130.52,-117 261.06,-135 130.52,-153"/>

<text text-anchor="middle" x="130.52" y="-131.3" font-family="Times,serif" font-size="14.00">Submit Relay Request</text>

</g>

<!-- Application&#45;&gt;Submit Relay Request -->

<g id="edge4" class="edge">

<title>Application&#45;&gt;Submit Relay Request</title>

<path fill="none" stroke="black" d="M130.52,-189.81C130.52,-181.79 130.52,-172.05 130.52,-163.07"/>

<polygon fill="black" stroke="black" points="134.02,-163.03 130.52,-153.03 127.02,-163.03 134.02,-163.03"/>

</g>

<!-- Portal -->

<g id="node2" class="node">

<title>Portal</title>

<path fill="none" stroke="black" d="M545.52,-222.73C545.52,-224.53 533.42,-226 518.52,-226 503.62,-226 491.52,-224.53 491.52,-222.73 491.52,-222.73 491.52,-193.27 491.52,-193.27 491.52,-191.47 503.62,-190 518.52,-190 533.42,-190 545.52,-191.47 545.52,-193.27 545.52,-193.27 545.52,-222.73 545.52,-222.73"/>

<path fill="none" stroke="black" d="M545.52,-222.73C545.52,-220.92 533.42,-219.45 518.52,-219.45 503.62,-219.45 491.52,-220.92 491.52,-222.73"/>

<text text-anchor="middle" x="518.52" y="-204.3" font-family="Times,serif" font-size="14.00">Portal</text>

</g>

<!-- Portal Registration -->

<g id="node3" class="node">

<title>Portal Registration</title>

<polygon fill="orange" stroke="orange" points="391.52,-153 279.25,-135 391.52,-117 503.79,-135 391.52,-153"/>

<text text-anchor="middle" x="391.52" y="-131.3" font-family="Times,serif" font-size="14.00">Portal Registration</text>

</g>

<!-- Portal&#45;&gt;Portal Registration -->

<g id="edge1" class="edge">

<title>Portal&#45;&gt;Portal Registration</title>

<path fill="none" stroke="black" d="M491.28,-191.77C471.59,-180.77 444.92,-165.86 424.11,-154.22"/>

<polygon fill="black" stroke="black" points="425.74,-151.12 415.3,-149.29 422.32,-157.23 425.74,-151.12"/>

</g>

<!-- Portal Unregistration -->

<g id="node4" class="node">

<title>Portal Unregistration</title>

<polygon fill="orange" stroke="orange" points="644.52,-153 521.19,-135 644.52,-117 767.85,-135 644.52,-153"/>

<text text-anchor="middle" x="644.52" y="-131.3" font-family="Times,serif" font-size="14.00">Portal Unregistration</text>

</g>

<!-- Portal&#45;&gt;Portal Unregistration -->

<g id="edge3" class="edge">

<title>Portal&#45;&gt;Portal Unregistration</title>

<path fill="none" stroke="black" d="M545.55,-191.77C564.95,-180.84 591.2,-166.05 611.78,-154.45"/>

<polygon fill="black" stroke="black" points="613.52,-157.49 620.51,-149.53 610.08,-151.39 613.52,-157.49"/>

</g>

<!-- Portal&#45;&gt;Submit Relay Request -->

<g id="edge5" class="edge">

<title>Portal&#45;&gt;Submit Relay Request</title>

<path fill="none" stroke="black" d="M491.24,-202.01C429.84,-190.77 279.5,-163.26 193.54,-147.53"/>

<polygon fill="black" stroke="black" points="194.11,-144.08 183.64,-145.72 192.85,-150.96 194.11,-144.08"/>

</g>

<!-- Submit Relay Request (Portal) -->

<g id="node6" class="node">

<title>Submit Relay Request (Portal)</title>

<polygon fill="orange" stroke="orange" points="958.52,-153 785.92,-135 958.52,-117 1131.12,-135 958.52,-153"/>

<text text-anchor="middle" x="958.52" y="-131.3" font-family="Times,serif" font-size="14.00">Submit Relay Request (Portal)</text>

</g>

<!-- Portal&#45;&gt;Submit Relay Request (Portal) -->

<g id="edge6" class="edge">

<title>Portal&#45;&gt;Submit Relay Request (Portal)</title>

<path fill="none" stroke="black" d="M545.71,-202.61C612.19,-191.88 784.78,-164.04 884.48,-147.95"/>

<polygon fill="black" stroke="black" points="885.18,-151.38 894.49,-146.33 884.06,-144.47 885.18,-151.38"/>

</g>

<!-- Portal Registration Policy -->

<g id="node7" class="node">

<title>Portal Registration Policy</title>

<polygon fill="red" stroke="red" points="472.02,-36 311.02,-36 311.02,0 472.02,0 472.02,-36"/>

<text text-anchor="middle" x="391.52" y="-14.3" font-family="Times,serif" font-size="14.00">Portal Registration Policy</text>

</g>

<!-- Portal Registration&#45;&gt;Portal Registration Policy -->

<g id="edge2" class="edge">

<title>Portal Registration&#45;&gt;Portal Registration Policy</title>

<path fill="none" stroke="black" d="M391.52,-116.53C391.52,-97.94 391.52,-68.24 391.52,-46.5"/>

<polygon fill="black" stroke="black" points="395.02,-46.25 391.52,-36.25 388.02,-46.25 395.02,-46.25"/>

<text text-anchor="middle" x="426.02" y="-87.8" font-family="Times,serif" font-size="14.00">Portal</text>

<text text-anchor="middle" x="426.02" y="-72.8" font-family="Times,serif" font-size="14.00">Registration</text>

<text text-anchor="middle" x="426.02" y="-57.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

<!-- Submit Relay Request (Portal) Policy -->

<g id="node8" class="node">

<title>Submit Relay Request (Portal) Policy</title>

<polygon fill="red" stroke="red" points="1072.02,-36 845.02,-36 845.02,0 1072.02,0 1072.02,-36"/>

<text text-anchor="middle" x="958.52" y="-14.3" font-family="Times,serif" font-size="14.00">Submit Relay Request (Portal) Policy</text>

</g>

<!-- Submit Relay Request (Portal)&#45;&gt;Submit Relay Request (Portal) Policy -->

<g id="edge7" class="edge">

<title>Submit Relay Request (Portal)&#45;&gt;Submit Relay Request (Portal) Policy</title>

<path fill="none" stroke="black" d="M958.52,-116.53C958.52,-97.94 958.52,-68.24 958.52,-46.5"/>

<polygon fill="black" stroke="black" points="962.02,-46.25 958.52,-36.25 955.02,-46.25 962.02,-46.25"/>

<text text-anchor="middle" x="993.52" y="-87.8" font-family="Times,serif" font-size="14.00">Portal Relay</text>

<text text-anchor="middle" x="993.52" y="-72.8" font-family="Times,serif" font-size="14.00">Request</text>

<text text-anchor="middle" x="993.52" y="-57.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

</g>

</svg>
<h2>State</h2><h3>Local States</h3><h4>Application State</h4><table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Symbol</th>
        <th>Domain</th>
      </tr><tr><td>Public key</td><td>The identifier of the application</td><td>Public Key</td><td></td><td></td></tr><tr><td>POKT Holdings</td><td>The personal holdings of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Staked POKT</td><td>The staked amount of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Relay Chains</td><td>The flavor(s) of Web3 hosted by this Servicer</td><td>List[Relay Chain]</td><td></td><td></td></tr><tr><td>GeoZone</td><td>The physical geo-location identifier this Servicer registered in</td><td>GeoZone</td><td></td><td></td></tr><tr><td>Number of Servicers</td><td>The number of servicers per request to be using</td><td>int</td><td></td><td></td></tr><tr><td>Stake Status</td><td>The status of staking for the actor</td><td>StakeStatusType</td><td></td><td></td></tr></table><h4>Portal State</h4><table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Symbol</th>
        <th>Domain</th>
      </tr><tr><td>Stake Status</td><td>The status of staking for the actor</td><td>StakeStatusType</td><td></td><td></td></tr></table><h2>Spaces</h2><h3>Portal Unregistration Space</h3><p>{public_key: Public Key}</p><h3>Portal Relay Request Space</h3><p>{}</p><h3>Submit Relay Request Space</h3><p>{}</p><h3>Portal Registration Space</h3><p>{public_key: Public Key,<br/>stake_amount: uPOKT,<br/>service_url: Service URL}</p><h2>Behavioral Action Space</h2><h3>Portal Registration</h3><p>Registration differs from staking in the sense that the pubKey is known but there are no economic benefits/penalties in this stage of the protocol's progression. The Portal must register on-chain in order for the Servicer to accept its signature as part of the ring. Future versions of the protocol may include on-chain rewards or penalties for the Portal, but the current iteration will incentivize Portals to provide a high quality, highly trusted service through free market economics.</p><h4>Called By:</h4>
<p>1. Portal</p><h4>Constraints:</h4>
<h3>Portal Unregistration</h3><p>A Portal is able to submit an UnstakeMsg to exit and remove itself from the network. After a successful UnstakeMsg, the Portal is no eligible sign relays on behalf of an Application. On-chain delegation from existing Applications will be removed from the world state. After the PortalUnstakingTime unbonding time elapses, the remaining stake is returned to the Portal's address.</p><h4>Called By:</h4>
<p>1. Portal</p><h4>Constraints:</h4>
<h3>Submit Relay Request</h3><p>An application or the portal acting on its behalf submits a Relay Request, or an API requests to be routed to any Relay Chain</p><h4>Called By:</h4>
<p>1. Application</p><p>2. Portal</p><h4>Constraints:</h4>
<h3>Submit Relay Request (Portal)</h3><p>Portal submitting a relay request on behalf of an application.</p><h4>Called By:</h4>
<p>1. Portal</p><h4>Constraints:</h4>
<h2>Policies</h2><h3>Portal Registration Policy</h3><p>Policy which handles the logic of portal registration and if enough stake is present.</p><h4>Preceded By:</h4>
<p>1. Portal Registration</p><h4>Domain Spaces:</h4>
<p>1. Portal Registration Space</p><h4>Followed By:</h4>
<h4>Codomain Spaces:</h4>
<h4>Constraints:</h4>
<h3>Submit Relay Request (Portal) Policy</h3><p>Policy which handles the logic of portal relay requests and fees</p><h4>Preceded By:</h4>
<p>1. Submit Relay Request (Portal)</p><h4>Domain Spaces:</h4>
<p>1. Portal Relay Request Space</p><h4>Followed By:</h4>
<h4>Codomain Spaces:</h4>
<h4>Constraints:</h4>
<h2>Mechanisms</h2><h2>Parameters</h2><p>gateway_bootstrap_unwind_start</p><p>maturity_relay_cost</p><p>maturity_relay_charge</p><p>gateway_bootstrap_unwind_end</p><p>min_bootstrap_gateway_fee_per_relay</p><p>portal_minimum_stake</p>