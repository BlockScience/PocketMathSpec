<p>For explanations of generalized dynamical systems as well as how the mathematical specification library works in detail, please consult the documentation <a href="https://github.com/BlockScience/MSML/tree/main/docs">here</a></p>Graph Legend:<br/>Cylinder: Entity<br/>Orange Diamond: Boundary Action<br/>Red Square: Policy<br/>Blue Circle: Mechanism<br/>Transparent Circle: State Variable<h2>Action Map</h2><?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.48.0 (0)

 -->

<!-- Title: Portal Pages: 1 -->

<svg width="1139pt" height="234pt"

 viewBox="0.00 0.00 1138.69 234.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 230)">

<title>Portal</title>

<polygon fill="white" stroke="transparent" points="-4,4 -4,-230 1134.69,-230 1134.69,4 -4,4"/>

<!-- Portal -->

<g id="node1" class="node">

<title>Portal</title>

<path fill="none" stroke="black" d="M630.52,-222.73C630.52,-224.53 618.42,-226 603.52,-226 588.62,-226 576.52,-224.53 576.52,-222.73 576.52,-222.73 576.52,-193.27 576.52,-193.27 576.52,-191.47 588.62,-190 603.52,-190 618.42,-190 630.52,-191.47 630.52,-193.27 630.52,-193.27 630.52,-222.73 630.52,-222.73"/>

<path fill="none" stroke="black" d="M630.52,-222.73C630.52,-220.92 618.42,-219.45 603.52,-219.45 588.62,-219.45 576.52,-220.92 576.52,-222.73"/>

<text text-anchor="middle" x="603.52" y="-204.3" font-family="Times,serif" font-size="14.00">Portal</text>

</g>

<!-- Portal Unregistration -->

<g id="node3" class="node">

<title>Portal Unregistration</title>

<polygon fill="orange" stroke="orange" points="1007.52,-153 884.19,-135 1007.52,-117 1130.85,-135 1007.52,-153"/>

<text text-anchor="middle" x="1007.52" y="-131.3" font-family="Times,serif" font-size="14.00">Portal Unregistration</text>

</g>

<!-- Portal&#45;&gt;Portal Unregistration -->

<g id="edge1" class="edge">

<title>Portal&#45;&gt;Portal Unregistration</title>

<path fill="none" stroke="black" d="M630.66,-202.23C694.37,-191.03 854.9,-162.82 944.53,-147.07"/>

<polygon fill="black" stroke="black" points="945.32,-150.48 954.56,-145.31 944.11,-143.59 945.32,-150.48"/>

</g>

<!-- Submit Relay Request -->

<g id="node4" class="node">

<title>Submit Relay Request</title>

<polygon fill="orange" stroke="orange" points="130.52,-153 -0.02,-135 130.52,-117 261.06,-135 130.52,-153"/>

<text text-anchor="middle" x="130.52" y="-131.3" font-family="Times,serif" font-size="14.00">Submit Relay Request</text>

</g>

<!-- Portal&#45;&gt;Submit Relay Request -->

<g id="edge3" class="edge">

<title>Portal&#45;&gt;Submit Relay Request</title>

<path fill="none" stroke="black" d="M576.39,-202.93C504.22,-192.09 305.81,-162.31 199.66,-146.38"/>

<polygon fill="black" stroke="black" points="200.09,-142.9 189.68,-144.88 199.05,-149.83 200.09,-142.9"/>

</g>

<!-- Submit Relay Request (Portal) -->

<g id="node5" class="node">

<title>Submit Relay Request (Portal)</title>

<polygon fill="orange" stroke="orange" points="451.52,-153 278.92,-135 451.52,-117 624.12,-135 451.52,-153"/>

<text text-anchor="middle" x="451.52" y="-131.3" font-family="Times,serif" font-size="14.00">Submit Relay Request (Portal)</text>

</g>

<!-- Portal&#45;&gt;Submit Relay Request (Portal) -->

<g id="edge4" class="edge">

<title>Portal&#45;&gt;Submit Relay Request (Portal)</title>

<path fill="none" stroke="black" d="M576.35,-194.31C552.44,-183.14 517.35,-166.75 490.46,-154.19"/>

<polygon fill="black" stroke="black" points="491.86,-150.98 481.32,-149.92 488.9,-157.32 491.86,-150.98"/>

</g>

<!-- Portal Registration -->

<g id="node6" class="node">

<title>Portal Registration</title>

<polygon fill="orange" stroke="orange" points="754.52,-153 642.25,-135 754.52,-117 866.79,-135 754.52,-153"/>

<text text-anchor="middle" x="754.52" y="-131.3" font-family="Times,serif" font-size="14.00">Portal Registration</text>

</g>

<!-- Portal&#45;&gt;Portal Registration -->

<g id="edge6" class="edge">

<title>Portal&#45;&gt;Portal Registration</title>

<path fill="none" stroke="black" d="M630.87,-194.14C655.35,-182.63 691.42,-165.67 718.29,-153.03"/>

<polygon fill="black" stroke="black" points="719.82,-156.18 727.38,-148.76 716.84,-149.85 719.82,-156.18"/>

</g>

<!-- Application -->

<g id="node2" class="node">

<title>Application</title>

<path fill="none" stroke="black" d="M172.02,-222.73C172.02,-224.53 153.42,-226 130.52,-226 107.62,-226 89.02,-224.53 89.02,-222.73 89.02,-222.73 89.02,-193.27 89.02,-193.27 89.02,-191.47 107.62,-190 130.52,-190 153.42,-190 172.02,-191.47 172.02,-193.27 172.02,-193.27 172.02,-222.73 172.02,-222.73"/>

<path fill="none" stroke="black" d="M172.02,-222.73C172.02,-220.92 153.42,-219.45 130.52,-219.45 107.62,-219.45 89.02,-220.92 89.02,-222.73"/>

<text text-anchor="middle" x="130.52" y="-204.3" font-family="Times,serif" font-size="14.00">Application</text>

</g>

<!-- Application&#45;&gt;Submit Relay Request -->

<g id="edge2" class="edge">

<title>Application&#45;&gt;Submit Relay Request</title>

<path fill="none" stroke="black" d="M130.52,-189.81C130.52,-181.79 130.52,-172.05 130.52,-163.07"/>

<polygon fill="black" stroke="black" points="134.02,-163.03 130.52,-153.03 127.02,-163.03 134.02,-163.03"/>

</g>

<!-- Submit Relay Request (Portal) Policy -->

<g id="node7" class="node">

<title>Submit Relay Request (Portal) Policy</title>

<polygon fill="red" stroke="red" points="565.02,-36 338.02,-36 338.02,0 565.02,0 565.02,-36"/>

<text text-anchor="middle" x="451.52" y="-14.3" font-family="Times,serif" font-size="14.00">Submit Relay Request (Portal) Policy</text>

</g>

<!-- Submit Relay Request (Portal)&#45;&gt;Submit Relay Request (Portal) Policy -->

<g id="edge5" class="edge">

<title>Submit Relay Request (Portal)&#45;&gt;Submit Relay Request (Portal) Policy</title>

<path fill="none" stroke="black" d="M451.52,-116.53C451.52,-97.94 451.52,-68.24 451.52,-46.5"/>

<polygon fill="black" stroke="black" points="455.02,-46.25 451.52,-36.25 448.02,-46.25 455.02,-46.25"/>

<text text-anchor="middle" x="486.52" y="-87.8" font-family="Times,serif" font-size="14.00">Portal Relay</text>

<text text-anchor="middle" x="486.52" y="-72.8" font-family="Times,serif" font-size="14.00">Request</text>

<text text-anchor="middle" x="486.52" y="-57.8" font-family="Times,serif" font-size="14.00">Space</text>

</g>

</g>

</svg>
<h2>State</h2><h3>Local States</h3><h4>Application State</h4><table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Symbol</th>
        <th>Domain</th>
      </tr><tr><td>Public key</td><td>The identifier of the application</td><td>Public Key</td><td></td><td></td></tr><tr><td>POKT Holdings</td><td>The personal holdings of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Staked POKT</td><td>The staked amount of the application in uPOKT</td><td>uPOKT</td><td></td><td></td></tr><tr><td>Relay Chains</td><td>The flavor(s) of Web3 hosted by this Servicer</td><td>List[Relay Chain]</td><td></td><td></td></tr><tr><td>GeoZone</td><td>The physical geo-location identifier this Servicer registered in</td><td>GeoZone</td><td></td><td></td></tr><tr><td>Number of Servicers</td><td>The number of servicers per request to be using</td><td>int</td><td></td><td></td></tr><tr><td>Stake Status</td><td>The status of staking for the actor</td><td>StakeStatusType</td><td></td><td></td></tr></table><h4>Portal State</h4><table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Symbol</th>
        <th>Domain</th>
      </tr><tr><td>Stake Status</td><td>The status of staking for the actor</td><td>StakeStatusType</td><td></td><td></td></tr></table><h2>Spaces</h2><h3>Portal Relay Request Space</h3><p>{}</p><h3>Portal Registration Space</h3><p>{public_key: Public Key,<br/>stake_amount: uPOKT,<br/>service_url: Service URL}</p><h3>Submit Relay Request Space</h3><p>{}</p><h3>Portal Unregistration Space</h3><p>{public_key: Public Key}</p><h2>Behavioral Action Space</h2><h3>Portal Unregistration</h3><p>A Portal is able to submit an UnstakeMsg to exit and remove itself from the network. After a successful UnstakeMsg, the Portal is no eligible sign relays on behalf of an Application. On-chain delegation from existing Applications will be removed from the world state. After the PortalUnstakingTime unbonding time elapses, the remaining stake is returned to the Portal's address.</p><h4>Called By:</h4>
<p>1. Portal</p><h4>Constraints:</h4>
<h3>Submit Relay Request</h3><p>An application or the portal acting on its behalf submits a Relay Request, or an API requests to be routed to any Relay Chain</p><h4>Called By:</h4>
<p>1. Application</p><p>2. Portal</p><h4>Constraints:</h4>
<h3>Submit Relay Request (Portal)</h3><p>Portal submitting a relay request on behalf of an application.</p><h4>Called By:</h4>
<p>1. Portal</p><h4>Constraints:</h4>
<h3>Portal Registration</h3><p>Registration differs from staking in the sense that the pubKey is known but there are no economic benefits/penalties in this stage of the protocol's progression. The Portal must register on-chain in order for the Servicer to accept its signature as part of the ring. Future versions of the protocol may include on-chain rewards or penalties for the Portal, but the current iteration will incentivize Portals to provide a high quality, highly trusted service through free market economics.</p><h4>Called By:</h4>
<p>1. Portal</p><h4>Constraints:</h4>
<h2>Policies</h2><h3>Submit Relay Request (Portal) Policy</h3><p>Policy which handles the logic of portal relay requests and fees</p><h4>Preceded By:</h4>
<p>1. Submit Relay Request (Portal)</p><h4>Domain Spaces:</h4>
<p>1. Portal Relay Request Space</p><h4>Followed By:</h4>
<h4>Codomain Spaces:</h4>
<h4>Constraints:</h4>
<h2>Mechanisms</h2><h2>Parameters</h2><p>gateway_bootstrap_unwind_end</p><p>min_bootstrap_gateway_fee_per_relay</p><p>maturity_relay_charge</p><p>gateway_bootstrap_unwind_start</p><p>maturity_relay_cost</p>